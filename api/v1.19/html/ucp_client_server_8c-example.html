<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>UCX: ucp_client_server.c</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="UCX_Logo_80x80.png"/></td>
  <td id="projectalign">
   <div id="projectname">UCX<span id="projectnumber">&#160;1.19</span>
   </div>
   <div id="projectbrief">Unified Communication X</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('ucp_client_server_8c-example.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">ucp_client_server.c</div></div>
</div><!--header-->
<div class="contents">
<p>UCP client / server example using different APIs (tag, stream, am) utility.</p>
<div class="fragment"><div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * UCP client - server example utility</span></div>
<div class="line"><span class="comment"> * -----------------------------------------------</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * Server side:</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> *    ./ucp_client_server</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * Client side:</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> *    ./ucp_client_server -a &lt;server-ip&gt;</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * Notes:</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> *    - The server will listen to incoming connection requests on INADDR_ANY.</span></div>
<div class="line"><span class="comment"> *    - The client needs to pass the IP address of the server side to connect to</span></div>
<div class="line"><span class="comment"> *      as an argument to the test.</span></div>
<div class="line"><span class="comment"> *    - Currently, the passed IP needs to be an IPoIB or a RoCE address.</span></div>
<div class="line"><span class="comment"> *    - The port which the server side would listen on can be modified with the</span></div>
<div class="line"><span class="comment"> *      &#39;-p&#39; option and should be used on both sides. The default port to use is</span></div>
<div class="line"><span class="comment"> *      13337.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &quot;hello_world_util.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;ucp_util.h&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;ucp/api/ucp.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;string.h&gt;</span>    <span class="comment">/* memset */</span></div>
<div class="line"><span class="preprocessor">#include &lt;arpa/inet.h&gt;</span> <span class="comment">/* inet_addr */</span></div>
<div class="line"><span class="preprocessor">#include &lt;unistd.h&gt;</span>    <span class="comment">/* getopt */</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdlib.h&gt;</span>    <span class="comment">/* atoi */</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define DEFAULT_PORT           13337</span></div>
<div class="line"><span class="preprocessor">#define IP_STRING_LEN          50</span></div>
<div class="line"><span class="preprocessor">#define PORT_STRING_LEN        8</span></div>
<div class="line"><span class="preprocessor">#define TAG                    0xCAFE</span></div>
<div class="line"><span class="preprocessor">#define COMM_TYPE_DEFAULT      &quot;STREAM&quot;</span></div>
<div class="line"><span class="preprocessor">#define PRINT_INTERVAL         2000</span></div>
<div class="line"><span class="preprocessor">#define DEFAULT_NUM_ITERATIONS 1</span></div>
<div class="line"><span class="preprocessor">#define TEST_AM_ID             0</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">long</span> test_string_length = 16;</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">long</span> iov_cnt            = 1;</div>
<div class="line"><span class="keyword">static</span> uint16_t server_port    = DEFAULT_PORT;</div>
<div class="line"><span class="keyword">static</span> sa_family_t ai_family   = AF_INET;</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> num_iterations      = DEFAULT_NUM_ITERATIONS;</div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> connection_closed   = 1;</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> {</div>
<div class="line">    CLIENT_SERVER_SEND_RECV_STREAM  = UCS_BIT(0),</div>
<div class="line">    CLIENT_SERVER_SEND_RECV_TAG     = UCS_BIT(1),</div>
<div class="line">    CLIENT_SERVER_SEND_RECV_AM      = UCS_BIT(2),</div>
<div class="line">    CLIENT_SERVER_SEND_RECV_DEFAULT = CLIENT_SERVER_SEND_RECV_STREAM</div>
<div class="line">} send_recv_type_t;</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>ucx_server_ctx {</div>
<div class="line">    <span class="keyword">volatile</span> <a class="code hl_typedef" href="group___u_c_p___e_n_d_p_o_i_n_t.html#ga200570bfa7d3a8b50b2a074aaa22d2ed">ucp_conn_request_h</a> conn_request;</div>
<div class="line">    <a class="code hl_typedef" href="group___u_c_p___w_o_r_k_e_r.html#gac0496f7102c43cf339cc760b9e5724a2">ucp_listener_h</a>              listener;</div>
<div class="line">} ucx_server_ctx_t;</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>test_req {</div>
<div class="line">    <span class="keywordtype">int</span> complete;</div>
<div class="line">} test_req_t;</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">struct </span>{</div>
<div class="line">    <span class="keyword">volatile</span> <span class="keywordtype">int</span> complete;</div>
<div class="line">    <span class="keywordtype">int</span>          is_rndv;</div>
<div class="line">    <span class="keywordtype">void</span>         *desc;</div>
<div class="line">    <span class="keywordtype">void</span>         *recv_buf;</div>
<div class="line">} am_data_desc = {0, 0, NULL, NULL};</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> usage(<span class="keywordtype">void</span>);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> buffer_free(<a id="_a0" name="_a0"></a><a class="code hl_struct" href="group___u_c_p___d_a_t_a_t_y_p_e.html#structucp__dt__iov">ucp_dt_iov_t</a> *iov, <span class="keywordtype">size_t</span> iov_size)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">size_t</span> idx;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (idx = 0; idx &lt; iov_size; idx++) {</div>
<div class="line">        mem_type_free(iov[idx].buffer);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> buffer_malloc(<a class="code hl_struct" href="group___u_c_p___d_a_t_a_t_y_p_e.html#structucp__dt__iov">ucp_dt_iov_t</a> *iov)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">size_t</span> idx;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (idx = 0; idx &lt; iov_cnt; idx++) {</div>
<div class="line">        iov[idx].<a id="a1" name="a1"></a><a class="code hl_variable" href="group___u_c_p___d_a_t_a_t_y_p_e.html#a776d38e0b127efb673685644b6816663">length</a> = test_string_length;</div>
<div class="line">        iov[idx].<a id="a2" name="a2"></a><a class="code hl_variable" href="group___u_c_p___d_a_t_a_t_y_p_e.html#a6cf4c47c33d61c097226b570a470f10c">buffer</a> = mem_type_malloc(iov[idx].length);</div>
<div class="line">        <span class="keywordflow">if</span> (iov[idx].buffer == NULL) {</div>
<div class="line">            buffer_free(iov, idx);</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> fill_buffer(<a class="code hl_struct" href="group___u_c_p___d_a_t_a_t_y_p_e.html#structucp__dt__iov">ucp_dt_iov_t</a> *iov)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> ret = 0;</div>
<div class="line">    <span class="keywordtype">size_t</span> idx;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (idx = 0; idx &lt; iov_cnt; idx++) {</div>
<div class="line">        ret = generate_test_string(iov[idx].buffer, iov[idx].length);</div>
<div class="line">        <span class="keywordflow">if</span> (ret != 0) {</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    CHKERR_ACTION(ret != 0, <span class="stringliteral">&quot;generate test string&quot;</span>, <span class="keywordflow">return</span> -1;);</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> common_cb(<span class="keywordtype">void</span> *user_data, <span class="keyword">const</span> <span class="keywordtype">char</span> *type_str)</div>
<div class="line">{</div>
<div class="line">    test_req_t *ctx;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (user_data == NULL) {</div>
<div class="line">        fprintf(stderr, <span class="stringliteral">&quot;user_data passed to %s mustn&#39;t be NULL\n&quot;</span>, type_str);</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    ctx           = user_data;</div>
<div class="line">    ctx-&gt;complete = 1;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> tag_recv_cb(<span class="keywordtype">void</span> *request, <a class="code hl_enumeration" href="group___u_c_s___r_e_s_o_u_r_c_e.html#ga88ca72d7294772e7d2edb70a2df15558">ucs_status_t</a> status,</div>
<div class="line">                        <span class="keyword">const</span> <a id="_a3" name="_a3"></a><a class="code hl_struct" href="group___u_c_p___c_o_n_t_e_x_t.html#structucp__tag__recv__info">ucp_tag_recv_info_t</a> *info, <span class="keywordtype">void</span> *user_data)</div>
<div class="line">{</div>
<div class="line">    common_cb(user_data, <span class="stringliteral">&quot;tag_recv_cb&quot;</span>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> stream_recv_cb(<span class="keywordtype">void</span> *request, <a class="code hl_enumeration" href="group___u_c_s___r_e_s_o_u_r_c_e.html#ga88ca72d7294772e7d2edb70a2df15558">ucs_status_t</a> status, <span class="keywordtype">size_t</span> length,</div>
<div class="line">                           <span class="keywordtype">void</span> *user_data)</div>
<div class="line">{</div>
<div class="line">    common_cb(user_data, <span class="stringliteral">&quot;stream_recv_cb&quot;</span>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> am_recv_cb(<span class="keywordtype">void</span> *request, <a class="code hl_enumeration" href="group___u_c_s___r_e_s_o_u_r_c_e.html#ga88ca72d7294772e7d2edb70a2df15558">ucs_status_t</a> status, <span class="keywordtype">size_t</span> length,</div>
<div class="line">                       <span class="keywordtype">void</span> *user_data)</div>
<div class="line">{</div>
<div class="line">    common_cb(user_data, <span class="stringliteral">&quot;am_recv_cb&quot;</span>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> send_cb(<span class="keywordtype">void</span> *request, <a class="code hl_enumeration" href="group___u_c_s___r_e_s_o_u_r_c_e.html#ga88ca72d7294772e7d2edb70a2df15558">ucs_status_t</a> status, <span class="keywordtype">void</span> *user_data)</div>
<div class="line">{</div>
<div class="line">    common_cb(user_data, <span class="stringliteral">&quot;send_cb&quot;</span>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> err_cb(<span class="keywordtype">void</span> *arg, <a class="code hl_typedef" href="group___u_c_p___e_n_d_p_o_i_n_t.html#ga9bea4e4174ea25f44285d8e7a9fb7adf">ucp_ep_h</a> ep, <a class="code hl_enumeration" href="group___u_c_s___r_e_s_o_u_r_c_e.html#ga88ca72d7294772e7d2edb70a2df15558">ucs_status_t</a> status)</div>
<div class="line">{</div>
<div class="line">    printf(<span class="stringliteral">&quot;error handling callback was invoked with status %d (%s)\n&quot;</span>,</div>
<div class="line">           status, ucs_status_string(status));</div>
<div class="line">    connection_closed = 1;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> set_sock_addr(<span class="keyword">const</span> <span class="keywordtype">char</span> *address_str, <span class="keyword">struct</span> sockaddr_storage *saddr)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>sockaddr_in *sa_in;</div>
<div class="line">    <span class="keyword">struct </span>sockaddr_in6 *sa_in6;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* The server will listen on INADDR_ANY */</span></div>
<div class="line">    memset(saddr, 0, <span class="keyword">sizeof</span>(*saddr));</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">switch</span> (ai_family) {</div>
<div class="line">    <span class="keywordflow">case</span> AF_INET:</div>
<div class="line">        sa_in = (<span class="keyword">struct </span>sockaddr_in*)saddr;</div>
<div class="line">        <span class="keywordflow">if</span> (address_str != NULL) {</div>
<div class="line">            inet_pton(AF_INET, address_str, &amp;sa_in-&gt;sin_addr);</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            sa_in-&gt;sin_addr.s_addr = INADDR_ANY;</div>
<div class="line">        }</div>
<div class="line">        sa_in-&gt;sin_family = AF_INET;</div>
<div class="line">        sa_in-&gt;sin_port   = htons(server_port);</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> AF_INET6:</div>
<div class="line">        sa_in6 = (<span class="keyword">struct </span>sockaddr_in6*)saddr;</div>
<div class="line">        <span class="keywordflow">if</span> (address_str != NULL) {</div>
<div class="line">            inet_pton(AF_INET6, address_str, &amp;sa_in6-&gt;sin6_addr);</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            sa_in6-&gt;sin6_addr = in6addr_any;</div>
<div class="line">        }</div>
<div class="line">        sa_in6-&gt;sin6_family = AF_INET6;</div>
<div class="line">        sa_in6-&gt;sin6_port   = htons(server_port);</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">default</span>:</div>
<div class="line">        fprintf(stderr, <span class="stringliteral">&quot;Invalid address family&quot;</span>);</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code hl_enumeration" href="group___u_c_s___r_e_s_o_u_r_c_e.html#ga88ca72d7294772e7d2edb70a2df15558">ucs_status_t</a> start_client(<a class="code hl_typedef" href="group___u_c_p___w_o_r_k_e_r.html#ga5fd52efba31d20fc52055bb19270729f">ucp_worker_h</a> ucp_worker,</div>
<div class="line">                                 <span class="keyword">const</span> <span class="keywordtype">char</span> *address_str, <a class="code hl_typedef" href="group___u_c_p___e_n_d_p_o_i_n_t.html#ga9bea4e4174ea25f44285d8e7a9fb7adf">ucp_ep_h</a> *client_ep)</div>
<div class="line">{</div>
<div class="line">    <a id="_a4" name="_a4"></a><a class="code hl_struct" href="group___u_c_p___e_n_d_p_o_i_n_t.html#structucp__ep__params">ucp_ep_params_t</a> ep_params;</div>
<div class="line">    <span class="keyword">struct </span>sockaddr_storage connect_addr;</div>
<div class="line">    <a class="code hl_enumeration" href="group___u_c_s___r_e_s_o_u_r_c_e.html#ga88ca72d7294772e7d2edb70a2df15558">ucs_status_t</a> status;</div>
<div class="line"> </div>
<div class="line">    set_sock_addr(address_str, &amp;connect_addr);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/*</span></div>
<div class="line"><span class="comment">     * Endpoint field mask bits:</span></div>
<div class="line"><span class="comment">     * UCP_EP_PARAM_FIELD_FLAGS             - Use the value of the &#39;flags&#39; field.</span></div>
<div class="line"><span class="comment">     * UCP_EP_PARAM_FIELD_SOCK_ADDR         - Use a remote sockaddr to connect</span></div>
<div class="line"><span class="comment">     *                                        to the remote peer.</span></div>
<div class="line"><span class="comment">     * UCP_EP_PARAM_FIELD_ERR_HANDLING_MODE - Error handling mode - this flag</span></div>
<div class="line"><span class="comment">     *                                        is temporarily required since the</span></div>
<div class="line"><span class="comment">     *                                        endpoint will be closed with</span></div>
<div class="line"><span class="comment">     *                                        UCP_EP_CLOSE_MODE_FORCE which</span></div>
<div class="line"><span class="comment">     *                                        requires this mode.</span></div>
<div class="line"><span class="comment">     *                                        Once UCP_EP_CLOSE_MODE_FORCE is</span></div>
<div class="line"><span class="comment">     *                                        removed, the error handling mode</span></div>
<div class="line"><span class="comment">     *                                        will be removed.</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    ep_params.<a id="a5" name="a5"></a><a class="code hl_variable" href="group___u_c_p___e_n_d_p_o_i_n_t.html#ab7b3f3ba1d402a621b8ea708dcf2387b">field_mask</a>       = <a id="a6" name="a6"></a><a class="code hl_enumvalue" href="group___u_c_p___e_n_d_p_o_i_n_t.html#ggabb6ce0b3189f415dadc7f99727751d60a1b53a3d4eaee470bcb3e23c60f1f7794">UCP_EP_PARAM_FIELD_FLAGS</a>       |</div>
<div class="line">                                 <a id="a7" name="a7"></a><a class="code hl_enumvalue" href="group___u_c_p___e_n_d_p_o_i_n_t.html#ggabb6ce0b3189f415dadc7f99727751d60a8149dfb8648b2b248825020c63449a80">UCP_EP_PARAM_FIELD_SOCK_ADDR</a>   |</div>
<div class="line">                                 <a id="a8" name="a8"></a><a class="code hl_enumvalue" href="group___u_c_p___e_n_d_p_o_i_n_t.html#ggabb6ce0b3189f415dadc7f99727751d60adc6619f5e4bf3f68190f918ee064036d">UCP_EP_PARAM_FIELD_ERR_HANDLER</a> |</div>
<div class="line">                                 <a id="a9" name="a9"></a><a class="code hl_enumvalue" href="group___u_c_p___e_n_d_p_o_i_n_t.html#ggabb6ce0b3189f415dadc7f99727751d60a1b0e70c12efabe6a2cab3c9bc66db340">UCP_EP_PARAM_FIELD_ERR_HANDLING_MODE</a>;</div>
<div class="line">    ep_params.<a id="a10" name="a10"></a><a class="code hl_variable" href="group___u_c_p___e_n_d_p_o_i_n_t.html#a50ce29893509695caa5b70ab4525a4d6">err_mode</a>         = <a id="a11" name="a11"></a><a class="code hl_enumvalue" href="group___u_c_p___e_n_d_p_o_i_n_t.html#gga7c69a28724d5ae3e49490e23e64df167aa31630259732e700b6ce0fe612cf0a6f">UCP_ERR_HANDLING_MODE_PEER</a>;</div>
<div class="line">    ep_params.<a id="a12" name="a12"></a><a class="code hl_variable" href="group___u_c_p___e_n_d_p_o_i_n_t.html#aaf329de9e2b45311099cee8c9df43a20">err_handler</a>.<a id="a13" name="a13"></a><a class="code hl_variable" href="group___u_c_p___c_o_m_m.html#a0bf3f446a1821a62dd3a300584792e33">cb</a>   = err_cb;</div>
<div class="line">    ep_params.<a class="code hl_variable" href="group___u_c_p___e_n_d_p_o_i_n_t.html#aaf329de9e2b45311099cee8c9df43a20">err_handler</a>.<a id="a14" name="a14"></a><a class="code hl_variable" href="group___u_c_p___c_o_m_m.html#a7e49e1843e1adab5561e5fc2b2e1afb1">arg</a>  = NULL;</div>
<div class="line">    ep_params.<a id="a15" name="a15"></a><a class="code hl_variable" href="group___u_c_p___e_n_d_p_o_i_n_t.html#a9bb65021187347fe311535857e19e6c3">flags</a>            = <a id="a16" name="a16"></a><a class="code hl_enumvalue" href="group___u_c_p___e_n_d_p_o_i_n_t.html#gga4a1f422dc1e81495b4aee1da8939459fad42871a591a0a34bccf5c8203a0b32bb">UCP_EP_PARAMS_FLAGS_CLIENT_SERVER</a>;</div>
<div class="line">    ep_params.<a id="a17" name="a17"></a><a class="code hl_variable" href="group___u_c_p___e_n_d_p_o_i_n_t.html#aa23fd9a6a092266371258bd285c96816">sockaddr</a>.<a id="a18" name="a18"></a><a class="code hl_variable" href="group___u_c_s___r_e_s_o_u_r_c_e.html#a6294db86dc9327058b8a31cb4af87edb">addr</a>    = (<span class="keyword">struct </span>sockaddr*)&amp;connect_addr;</div>
<div class="line">    ep_params.<a class="code hl_variable" href="group___u_c_p___e_n_d_p_o_i_n_t.html#aa23fd9a6a092266371258bd285c96816">sockaddr</a>.<a id="a19" name="a19"></a><a class="code hl_variable" href="group___u_c_s___r_e_s_o_u_r_c_e.html#ac86eaa6362c3345d05c75bb4508ff2f1">addrlen</a> = <span class="keyword">sizeof</span>(connect_addr);</div>
<div class="line"> </div>
<div class="line">    status = <a id="a20" name="a20"></a><a class="code hl_function" href="group___u_c_p___e_n_d_p_o_i_n_t.html#ga6cc5ffb2ba1b0ccd510848de0a779f7b">ucp_ep_create</a>(ucp_worker, &amp;ep_params, client_ep);</div>
<div class="line">    <span class="keywordflow">if</span> (status != <a id="a21" name="a21"></a><a class="code hl_enumvalue" href="group___u_c_s___r_e_s_o_u_r_c_e.html#gga88ca72d7294772e7d2edb70a2df15558a1a7fbae02ac33fb94f519c7c773f419a">UCS_OK</a>) {</div>
<div class="line">        fprintf(stderr, <span class="stringliteral">&quot;failed to connect to %s (%s)\n&quot;</span>, address_str,</div>
<div class="line">                ucs_status_string(status));</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> status;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> print_iov(<span class="keyword">const</span> <a class="code hl_struct" href="group___u_c_p___d_a_t_a_t_y_p_e.html#structucp__dt__iov">ucp_dt_iov_t</a> *iov)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">char</span> *msg = alloca(test_string_length);</div>
<div class="line">    <span class="keywordtype">size_t</span> idx;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (idx = 0; idx &lt; iov_cnt; idx++) {</div>
<div class="line">        <span class="comment">/* In case of Non-System memory */</span></div>
<div class="line">        mem_type_memcpy(msg, iov[idx].buffer, test_string_length);</div>
<div class="line">        printf(<span class="stringliteral">&quot;%s.\n&quot;</span>, msg);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span></div>
<div class="line"><span class="keywordtype">void</span> print_result(<span class="keywordtype">int</span> is_server, <span class="keyword">const</span> <a class="code hl_struct" href="group___u_c_p___d_a_t_a_t_y_p_e.html#structucp__dt__iov">ucp_dt_iov_t</a> *iov, <span class="keywordtype">int</span> current_iter)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (is_server) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Server: iteration #%d\n&quot;</span>, (current_iter + 1));</div>
<div class="line">        printf(<span class="stringliteral">&quot;UCX data message was received\n&quot;</span>);</div>
<div class="line">        printf(<span class="stringliteral">&quot;\n\n----- UCP TEST SUCCESS -------\n\n&quot;</span>);</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Client: iteration #%d\n&quot;</span>, (current_iter + 1));</div>
<div class="line">        printf(<span class="stringliteral">&quot;\n\n------------------------------\n\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    print_iov(iov);</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;\n\n------------------------------\n\n&quot;</span>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code hl_enumeration" href="group___u_c_s___r_e_s_o_u_r_c_e.html#ga88ca72d7294772e7d2edb70a2df15558">ucs_status_t</a> request_wait(<a class="code hl_typedef" href="group___u_c_p___w_o_r_k_e_r.html#ga5fd52efba31d20fc52055bb19270729f">ucp_worker_h</a> ucp_worker, <span class="keywordtype">void</span> *request,</div>
<div class="line">                                 test_req_t *ctx)</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_enumeration" href="group___u_c_s___r_e_s_o_u_r_c_e.html#ga88ca72d7294772e7d2edb70a2df15558">ucs_status_t</a> status;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* if operation was completed immediately */</span></div>
<div class="line">    <span class="keywordflow">if</span> (request == NULL) {</div>
<div class="line">        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="group___u_c_s___r_e_s_o_u_r_c_e.html#gga88ca72d7294772e7d2edb70a2df15558a1a7fbae02ac33fb94f519c7c773f419a">UCS_OK</a>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (UCS_PTR_IS_ERR(request)) {</div>
<div class="line">        <span class="keywordflow">return</span> UCS_PTR_STATUS(request);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span> (ctx-&gt;complete == 0) {</div>
<div class="line">        <a id="a22" name="a22"></a><a class="code hl_function" href="group___u_c_p___w_o_r_k_e_r.html#ga340784a8528d4932916651460dc481c0">ucp_worker_progress</a>(ucp_worker);</div>
<div class="line">    }</div>
<div class="line">    status = <a id="a23" name="a23"></a><a class="code hl_function" href="group___u_c_p___c_o_m_m.html#gae082ad7af428645ebe6e469d3d06a757">ucp_request_check_status</a>(request);</div>
<div class="line"> </div>
<div class="line">    <a id="a24" name="a24"></a><a class="code hl_function" href="group___u_c_p___c_o_m_m.html#ga0e8e46f5953d464382b21edef3ec9994">ucp_request_free</a>(request);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> status;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> request_finalize(<a class="code hl_typedef" href="group___u_c_p___w_o_r_k_e_r.html#ga5fd52efba31d20fc52055bb19270729f">ucp_worker_h</a> ucp_worker, test_req_t *request,</div>
<div class="line">                            test_req_t *ctx, <span class="keywordtype">int</span> is_server, <a class="code hl_struct" href="group___u_c_p___d_a_t_a_t_y_p_e.html#structucp__dt__iov">ucp_dt_iov_t</a> *iov,</div>
<div class="line">                            <span class="keywordtype">int</span> current_iter)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> ret = 0;</div>
<div class="line">    <a class="code hl_enumeration" href="group___u_c_s___r_e_s_o_u_r_c_e.html#ga88ca72d7294772e7d2edb70a2df15558">ucs_status_t</a> status;</div>
<div class="line"> </div>
<div class="line">    status = request_wait(ucp_worker, request, ctx);</div>
<div class="line">    <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="group___u_c_s___r_e_s_o_u_r_c_e.html#gga88ca72d7294772e7d2edb70a2df15558a1a7fbae02ac33fb94f519c7c773f419a">UCS_OK</a>) {</div>
<div class="line">        fprintf(stderr, <span class="stringliteral">&quot;unable to %s UCX message (%s)\n&quot;</span>,</div>
<div class="line">                is_server ? <span class="stringliteral">&quot;receive&quot;</span>: <span class="stringliteral">&quot;send&quot;</span>, ucs_status_string(status));</div>
<div class="line">        ret = -1;</div>
<div class="line">        <span class="keywordflow">goto</span> release_iov;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Print the output of the first, last and every PRINT_INTERVAL iteration */</span></div>
<div class="line">    <span class="keywordflow">if</span> ((current_iter == 0) || (current_iter == (num_iterations - 1)) ||</div>
<div class="line">        !((current_iter + 1) % (PRINT_INTERVAL))) {</div>
<div class="line">        print_result(is_server, iov, current_iter);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">release_iov:</div>
<div class="line">    buffer_free(iov, iov_cnt);</div>
<div class="line">    <span class="keywordflow">return</span> ret;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span></div>
<div class="line">fill_request_param(<a class="code hl_struct" href="group___u_c_p___d_a_t_a_t_y_p_e.html#structucp__dt__iov">ucp_dt_iov_t</a> *iov, <span class="keywordtype">int</span> is_client,</div>
<div class="line">                   <span class="keywordtype">void</span> **msg, <span class="keywordtype">size_t</span> *msg_length,</div>
<div class="line">                   test_req_t *ctx, <a id="_a25" name="_a25"></a><a class="code hl_struct" href="group___u_c_p___c_o_n_t_e_x_t.html#structucp__request__param__t">ucp_request_param_t</a> *param)</div>
<div class="line">{</div>
<div class="line">    CHKERR_ACTION(buffer_malloc(iov) != 0, <span class="stringliteral">&quot;allocate memory&quot;</span>, <span class="keywordflow">return</span> -1;);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (is_client &amp;&amp; (fill_buffer(iov) != 0)) {</div>
<div class="line">        buffer_free(iov, iov_cnt);</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    *msg        = (iov_cnt == 1) ? iov[0].buffer : iov;</div>
<div class="line">    *msg_length = (iov_cnt == 1) ? iov[0].length : iov_cnt;</div>
<div class="line"> </div>
<div class="line">    ctx-&gt;complete       = 0;</div>
<div class="line">    param-&gt;<a id="a26" name="a26"></a><a class="code hl_variable" href="group___u_c_p___c_o_n_t_e_x_t.html#a97e9444548efb351db6a07130fb69c28">op_attr_mask</a> = <a id="a27" name="a27"></a><a class="code hl_enumvalue" href="group___u_c_p___c_o_m_m.html#gga67fae646dd1668efba6efe49a35a6610a73e3a6e8b96b37ec1b0764e67dd13602">UCP_OP_ATTR_FIELD_CALLBACK</a> |</div>
<div class="line">                          <a id="a28" name="a28"></a><a class="code hl_enumvalue" href="group___u_c_p___c_o_m_m.html#gga67fae646dd1668efba6efe49a35a6610a354ef92dd9352dfccc859cd2ca3558d8">UCP_OP_ATTR_FIELD_DATATYPE</a> |</div>
<div class="line">                          <a id="a29" name="a29"></a><a class="code hl_enumvalue" href="group___u_c_p___c_o_m_m.html#gga67fae646dd1668efba6efe49a35a6610af6f932f15331fe7c9efacbfe2578e5ec">UCP_OP_ATTR_FIELD_USER_DATA</a>;</div>
<div class="line">    param-&gt;<a id="a30" name="a30"></a><a class="code hl_variable" href="group___u_c_p___c_o_n_t_e_x_t.html#a3988d603154f90eb5405785cac62b65f">datatype</a>     = (iov_cnt == 1) ? <a id="a31" name="a31"></a><a class="code hl_define" href="group___u_c_p___d_a_t_a_t_y_p_e.html#ga9a56fc4636094bab740d77f7df70c2b5">ucp_dt_make_contig</a>(1) :</div>
<div class="line">                          <a id="a32" name="a32"></a><a class="code hl_enumvalue" href="group___u_c_p___d_a_t_a_t_y_p_e.html#gga50b3b4e641a197264e963d91be480b6ca3b5515fddd08f075a8b74eca562bcb50">UCP_DATATYPE_IOV</a>;</div>
<div class="line">    param-&gt;<a id="a33" name="a33"></a><a class="code hl_variable" href="group___u_c_p___c_o_n_t_e_x_t.html#aa9092d65a2e4e55368ca4f88775c190b">user_data</a>    = ctx;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> send_recv_stream(<a class="code hl_typedef" href="group___u_c_p___w_o_r_k_e_r.html#ga5fd52efba31d20fc52055bb19270729f">ucp_worker_h</a> ucp_worker, <a class="code hl_typedef" href="group___u_c_p___e_n_d_p_o_i_n_t.html#ga9bea4e4174ea25f44285d8e7a9fb7adf">ucp_ep_h</a> ep, <span class="keywordtype">int</span> is_server,</div>
<div class="line">                            <span class="keywordtype">int</span> current_iter)</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_struct" href="group___u_c_p___d_a_t_a_t_y_p_e.html#structucp__dt__iov">ucp_dt_iov_t</a> *iov = alloca(iov_cnt * <span class="keyword">sizeof</span>(<a class="code hl_struct" href="group___u_c_p___d_a_t_a_t_y_p_e.html#structucp__dt__iov">ucp_dt_iov_t</a>));</div>
<div class="line">    <a class="code hl_struct" href="group___u_c_p___c_o_n_t_e_x_t.html#structucp__request__param__t">ucp_request_param_t</a> param;</div>
<div class="line">    test_req_t *request;</div>
<div class="line">    <span class="keywordtype">size_t</span> msg_length;</div>
<div class="line">    <span class="keywordtype">void</span> *msg;</div>
<div class="line">    test_req_t ctx;</div>
<div class="line"> </div>
<div class="line">    memset(iov, 0, iov_cnt * <span class="keyword">sizeof</span>(*iov));</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (fill_request_param(iov, !is_server, &amp;msg, &amp;msg_length,</div>
<div class="line">                           &amp;ctx, &amp;param) != 0) {</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (!is_server) {</div>
<div class="line">        <span class="comment">/* Client sends a message to the server using the stream API */</span></div>
<div class="line">        param.<a id="a34" name="a34"></a><a class="code hl_variable" href="group___u_c_p___c_o_n_t_e_x_t.html#a1859c77f14dee64f623bd9f9111200c7">cb</a>.send = send_cb;</div>
<div class="line">        request       = <a id="a35" name="a35"></a><a class="code hl_function" href="group___u_c_p___c_o_m_m.html#gae9fe6efe6b05e4e78f58bee68c68b252">ucp_stream_send_nbx</a>(ep, msg, msg_length, &amp;param);</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="comment">/* Server receives a message from the client using the stream API */</span></div>
<div class="line">        param.<a class="code hl_variable" href="group___u_c_p___c_o_n_t_e_x_t.html#a97e9444548efb351db6a07130fb69c28">op_attr_mask</a>  |= <a id="a36" name="a36"></a><a class="code hl_enumvalue" href="group___u_c_p___c_o_m_m.html#gga67fae646dd1668efba6efe49a35a6610a2f2586686e21b2700fd7cd4a8efb5a1b">UCP_OP_ATTR_FIELD_FLAGS</a>;</div>
<div class="line">        param.<a id="a37" name="a37"></a><a class="code hl_variable" href="group___u_c_p___c_o_n_t_e_x_t.html#a55a8ff2559470c5def6077a86ee9d898">flags</a>          = <a id="a38" name="a38"></a><a class="code hl_enumvalue" href="group___u_c_p___c_o_m_m.html#ggab471a9c7ab815e3d3ad7af80253f5cc2a5fb4ed4f8009d969ea9a8b3f3542424c">UCP_STREAM_RECV_FLAG_WAITALL</a>;</div>
<div class="line">        param.<a class="code hl_variable" href="group___u_c_p___c_o_n_t_e_x_t.html#a1859c77f14dee64f623bd9f9111200c7">cb</a>.recv_stream = stream_recv_cb;</div>
<div class="line">        request              = <a id="a39" name="a39"></a><a class="code hl_function" href="group___u_c_p___c_o_m_m.html#ga30494ce33e63823c81c2c5b3656d25c3">ucp_stream_recv_nbx</a>(ep, msg, msg_length,</div>
<div class="line">                                                   &amp;msg_length, &amp;param);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> request_finalize(ucp_worker, request, &amp;ctx, is_server, iov,</div>
<div class="line">                            current_iter);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> send_recv_tag(<a class="code hl_typedef" href="group___u_c_p___w_o_r_k_e_r.html#ga5fd52efba31d20fc52055bb19270729f">ucp_worker_h</a> ucp_worker, <a class="code hl_typedef" href="group___u_c_p___e_n_d_p_o_i_n_t.html#ga9bea4e4174ea25f44285d8e7a9fb7adf">ucp_ep_h</a> ep, <span class="keywordtype">int</span> is_server,</div>
<div class="line">                         <span class="keywordtype">int</span> current_iter)</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_struct" href="group___u_c_p___d_a_t_a_t_y_p_e.html#structucp__dt__iov">ucp_dt_iov_t</a> *iov = alloca(iov_cnt * <span class="keyword">sizeof</span>(<a class="code hl_struct" href="group___u_c_p___d_a_t_a_t_y_p_e.html#structucp__dt__iov">ucp_dt_iov_t</a>));</div>
<div class="line">    <a class="code hl_struct" href="group___u_c_p___c_o_n_t_e_x_t.html#structucp__request__param__t">ucp_request_param_t</a> param;</div>
<div class="line">    <span class="keywordtype">void</span> *request;</div>
<div class="line">    <span class="keywordtype">size_t</span> msg_length;</div>
<div class="line">    <span class="keywordtype">void</span> *msg;</div>
<div class="line">    test_req_t ctx;</div>
<div class="line"> </div>
<div class="line">    memset(iov, 0, iov_cnt * <span class="keyword">sizeof</span>(*iov));</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (fill_request_param(iov, !is_server, &amp;msg, &amp;msg_length,</div>
<div class="line">                           &amp;ctx, &amp;param) != 0) {</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (!is_server) {</div>
<div class="line">        <span class="comment">/* Client sends a message to the server using the Tag-Matching API */</span></div>
<div class="line">        param.<a class="code hl_variable" href="group___u_c_p___c_o_n_t_e_x_t.html#a1859c77f14dee64f623bd9f9111200c7">cb</a>.send = send_cb;</div>
<div class="line">        request       = <a id="a40" name="a40"></a><a class="code hl_function" href="group___u_c_p___c_o_m_m.html#ga8323878b60f426c630d4ff8996ede3cc">ucp_tag_send_nbx</a>(ep, msg, msg_length, TAG, &amp;param);</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="comment">/* Server receives a message from the client using the Tag-Matching API */</span></div>
<div class="line">        param.<a class="code hl_variable" href="group___u_c_p___c_o_n_t_e_x_t.html#a1859c77f14dee64f623bd9f9111200c7">cb</a>.recv = tag_recv_cb;</div>
<div class="line">        request       = <a id="a41" name="a41"></a><a class="code hl_function" href="group___u_c_p___c_o_m_m.html#gaa842f8ca8ad1363ed857ab938285a16f">ucp_tag_recv_nbx</a>(ucp_worker, msg, msg_length, TAG, 0,</div>
<div class="line">                                         &amp;param);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> request_finalize(ucp_worker, request, &amp;ctx, is_server, iov,</div>
<div class="line">                            current_iter);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code hl_enumeration" href="group___u_c_s___r_e_s_o_u_r_c_e.html#ga88ca72d7294772e7d2edb70a2df15558">ucs_status_t</a> ucp_am_data_cb(<span class="keywordtype">void</span> *arg, <span class="keyword">const</span> <span class="keywordtype">void</span> *header, <span class="keywordtype">size_t</span> header_length,</div>
<div class="line">                            <span class="keywordtype">void</span> *data, <span class="keywordtype">size_t</span> length,</div>
<div class="line">                            <span class="keyword">const</span> <a id="_a42" name="_a42"></a><a class="code hl_struct" href="group___u_c_p___w_o_r_k_e_r.html#structucp__am__recv__param">ucp_am_recv_param_t</a> *param)</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_struct" href="group___u_c_p___d_a_t_a_t_y_p_e.html#structucp__dt__iov">ucp_dt_iov_t</a> *iov;</div>
<div class="line">    <span class="keywordtype">size_t</span> idx;</div>
<div class="line">    <span class="keywordtype">size_t</span> offset;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (length != iov_cnt * test_string_length) {</div>
<div class="line">        fprintf(stderr, <span class="stringliteral">&quot;received wrong data length %ld (expected %ld)&quot;</span>,</div>
<div class="line">                length, iov_cnt * test_string_length);</div>
<div class="line">        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="group___u_c_s___r_e_s_o_u_r_c_e.html#gga88ca72d7294772e7d2edb70a2df15558a1a7fbae02ac33fb94f519c7c773f419a">UCS_OK</a>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (header_length != 0) {</div>
<div class="line">        fprintf(stderr, <span class="stringliteral">&quot;received unexpected header, length %ld&quot;</span>, header_length);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    am_data_desc.complete++;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (param-&gt;<a id="a43" name="a43"></a><a class="code hl_variable" href="group___u_c_p___w_o_r_k_e_r.html#a53a8777a31faf7e65289bcc1d710fb19">recv_attr</a> &amp; <a id="a44" name="a44"></a><a class="code hl_enumvalue" href="group___u_c_p___c_o_m_m.html#gga487a3c588a11e42b9f313f0c9e2ead3baf9a8d75af5b826d7563863591a98714f">UCP_AM_RECV_ATTR_FLAG_RNDV</a>) {</div>
<div class="line">        <span class="comment">/* Rendezvous request arrived, data contains an internal UCX descriptor,</span></div>
<div class="line"><span class="comment">         * which has to be passed to ucp_am_recv_data_nbx function to confirm</span></div>
<div class="line"><span class="comment">         * data transfer.</span></div>
<div class="line"><span class="comment">         */</span></div>
<div class="line">        am_data_desc.is_rndv = 1;</div>
<div class="line">        am_data_desc.desc    = data;</div>
<div class="line">        <span class="keywordflow">return</span> <a id="a45" name="a45"></a><a class="code hl_enumvalue" href="group___u_c_s___r_e_s_o_u_r_c_e.html#gga88ca72d7294772e7d2edb70a2df15558a77aa02620851779729e4ad6ceb41f84a">UCS_INPROGRESS</a>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Message delivered with eager protocol, data should be available</span></div>
<div class="line"><span class="comment">     * immediately</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    am_data_desc.is_rndv = 0;</div>
<div class="line"> </div>
<div class="line">    iov = am_data_desc.recv_buf;</div>
<div class="line">    offset = 0;</div>
<div class="line">    <span class="keywordflow">for</span> (idx = 0; idx &lt; iov_cnt; idx++) {</div>
<div class="line">        mem_type_memcpy(iov[idx].buffer, UCS_PTR_BYTE_OFFSET(data, offset),</div>
<div class="line">                        iov[idx].length);</div>
<div class="line">        offset += iov[idx].<a class="code hl_variable" href="group___u_c_p___d_a_t_a_t_y_p_e.html#a776d38e0b127efb673685644b6816663">length</a>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="group___u_c_s___r_e_s_o_u_r_c_e.html#gga88ca72d7294772e7d2edb70a2df15558a1a7fbae02ac33fb94f519c7c773f419a">UCS_OK</a>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> send_recv_am(<a class="code hl_typedef" href="group___u_c_p___w_o_r_k_e_r.html#ga5fd52efba31d20fc52055bb19270729f">ucp_worker_h</a> ucp_worker, <a class="code hl_typedef" href="group___u_c_p___e_n_d_p_o_i_n_t.html#ga9bea4e4174ea25f44285d8e7a9fb7adf">ucp_ep_h</a> ep, <span class="keywordtype">int</span> is_server,</div>
<div class="line">                        <span class="keywordtype">int</span> current_iter)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">int</span> last   = 0;</div>
<div class="line">    <a class="code hl_struct" href="group___u_c_p___d_a_t_a_t_y_p_e.html#structucp__dt__iov">ucp_dt_iov_t</a> *iov = alloca(iov_cnt * <span class="keyword">sizeof</span>(<a class="code hl_struct" href="group___u_c_p___d_a_t_a_t_y_p_e.html#structucp__dt__iov">ucp_dt_iov_t</a>));</div>
<div class="line">    test_req_t *request;</div>
<div class="line">    <a class="code hl_struct" href="group___u_c_p___c_o_n_t_e_x_t.html#structucp__request__param__t">ucp_request_param_t</a> params;</div>
<div class="line">    <span class="keywordtype">size_t</span> msg_length;</div>
<div class="line">    <span class="keywordtype">void</span> *msg;</div>
<div class="line">    test_req_t ctx;</div>
<div class="line"> </div>
<div class="line">    memset(iov, 0, iov_cnt * <span class="keyword">sizeof</span>(*iov));</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (fill_request_param(iov, !is_server, &amp;msg, &amp;msg_length,</div>
<div class="line">                           &amp;ctx, &amp;params) != 0) {</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (is_server) {</div>
<div class="line">        am_data_desc.recv_buf = iov;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/* waiting for AM callback has called */</span></div>
<div class="line">        <span class="keywordflow">while</span> (last == am_data_desc.complete) {</div>
<div class="line">            <a class="code hl_function" href="group___u_c_p___w_o_r_k_e_r.html#ga340784a8528d4932916651460dc481c0">ucp_worker_progress</a>(ucp_worker);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        last++;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (am_data_desc.is_rndv) {</div>
<div class="line">            <span class="comment">/* Rendezvous request has arrived, need to invoke receive operation</span></div>
<div class="line"><span class="comment">             * to confirm data transfer from the sender to the &quot;recv_message&quot;</span></div>
<div class="line"><span class="comment">             * buffer. */</span></div>
<div class="line">            params.<a class="code hl_variable" href="group___u_c_p___c_o_n_t_e_x_t.html#a97e9444548efb351db6a07130fb69c28">op_attr_mask</a> |= <a id="a46" name="a46"></a><a class="code hl_enumvalue" href="group___u_c_p___c_o_m_m.html#gga67fae646dd1668efba6efe49a35a6610a8805045d48573e9aa5751b439be114d0">UCP_OP_ATTR_FLAG_NO_IMM_CMPL</a>;</div>
<div class="line">            params.<a class="code hl_variable" href="group___u_c_p___c_o_n_t_e_x_t.html#a1859c77f14dee64f623bd9f9111200c7">cb</a>.recv_am    = am_recv_cb;</div>
<div class="line">            request              = <a id="a47" name="a47"></a><a class="code hl_function" href="group___u_c_p___c_o_m_m.html#gaefaaa5e0a154efe496ae5bb7f2bf71f3">ucp_am_recv_data_nbx</a>(ucp_worker,</div>
<div class="line">                                                        am_data_desc.desc,</div>
<div class="line">                                                        msg, msg_length,</div>
<div class="line">                                                        &amp;params);</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            <span class="comment">/* Data has arrived eagerly and is ready for use, no need to</span></div>
<div class="line"><span class="comment">             * initiate receive operation. */</span></div>
<div class="line">            request = NULL;</div>
<div class="line">        }</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="comment">/* Client sends a message to the server using the AM API */</span></div>
<div class="line">        params.<a class="code hl_variable" href="group___u_c_p___c_o_n_t_e_x_t.html#a1859c77f14dee64f623bd9f9111200c7">cb</a>.send = (<a id="a48" name="a48"></a><a class="code hl_typedef" href="group___u_c_p___c_o_m_m.html#gaee41a74074b37f96dad5b29c9af17faf">ucp_send_nbx_callback_t</a>)send_cb;</div>
<div class="line">        request        = <a id="a49" name="a49"></a><a class="code hl_function" href="group___u_c_p___c_o_m_m.html#ga4b8ab214f35828ee4608d73442e8c372">ucp_am_send_nbx</a>(ep, TEST_AM_ID, NULL, 0ul, msg,</div>
<div class="line">                                         msg_length, &amp;params);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> request_finalize(ucp_worker, request, &amp;ctx, is_server, iov,</div>
<div class="line">                            current_iter);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> usage()</div>
<div class="line">{</div>
<div class="line">    fprintf(stderr, <span class="stringliteral">&quot;Usage: ucp_client_server [parameters]\n&quot;</span>);</div>
<div class="line">    fprintf(stderr, <span class="stringliteral">&quot;UCP client-server example utility\n&quot;</span>);</div>
<div class="line">    fprintf(stderr, <span class="stringliteral">&quot;\nParameters are:\n&quot;</span>);</div>
<div class="line">    fprintf(stderr, <span class="stringliteral">&quot;  -a Set IP address of the server &quot;</span></div>
<div class="line">                    <span class="stringliteral">&quot;(required for client and should not be specified &quot;</span></div>
<div class="line">                    <span class="stringliteral">&quot;for the server)\n&quot;</span>);</div>
<div class="line">    fprintf(stderr, <span class="stringliteral">&quot;  -l Set IP address where server listens &quot;</span></div>
<div class="line">                    <span class="stringliteral">&quot;(If not specified, server uses INADDR_ANY; &quot;</span></div>
<div class="line">                    <span class="stringliteral">&quot;Irrelevant at client)\n&quot;</span>);</div>
<div class="line">    fprintf(stderr, <span class="stringliteral">&quot;  -p Port number to listen/connect to (default = %d). &quot;</span></div>
<div class="line">                    <span class="stringliteral">&quot;0 on the server side means select a random port and print it\n&quot;</span>,</div>
<div class="line">                    DEFAULT_PORT);</div>
<div class="line">    fprintf(stderr, <span class="stringliteral">&quot;  -c Communication type for the client and server. &quot;</span></div>
<div class="line">                    <span class="stringliteral">&quot;  Valid values are:\n&quot;</span></div>
<div class="line">                    <span class="stringliteral">&quot;      &#39;stream&#39; : Stream API\n&quot;</span></div>
<div class="line">                    <span class="stringliteral">&quot;      &#39;tag&#39;    : Tag API\n&quot;</span></div>
<div class="line">                    <span class="stringliteral">&quot;      &#39;am&#39;     : AM API\n&quot;</span></div>
<div class="line">                    <span class="stringliteral">&quot;     If not specified, %s API will be used.\n&quot;</span>, COMM_TYPE_DEFAULT);</div>
<div class="line">    fprintf(stderr, <span class="stringliteral">&quot;  -i Number of iterations to run. Client and server must &quot;</span></div>
<div class="line">                    <span class="stringliteral">&quot;have the same value. (default = %d).\n&quot;</span>,</div>
<div class="line">                    num_iterations);</div>
<div class="line">    fprintf(stderr, <span class="stringliteral">&quot;  -v Number of buffers in a single data &quot;</span></div>
<div class="line">                    <span class="stringliteral">&quot;transfer function call. (default = %ld).\n&quot;</span>,</div>
<div class="line">                    iov_cnt);</div>
<div class="line">    print_common_help();</div>
<div class="line">    fprintf(stderr, <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> parse_cmd_status_t parse_cmd(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *<span class="keyword">const</span> argv[],</div>
<div class="line">                                    <span class="keywordtype">char</span> **server_addr, <span class="keywordtype">char</span> **listen_addr,</div>
<div class="line">                                    send_recv_type_t *send_recv_type)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> c = 0;</div>
<div class="line">    <span class="keywordtype">int</span> port;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span> ((c = getopt(argc, argv, <span class="stringliteral">&quot;a:l:p:c:6i:s:v:m:h&quot;</span>)) != -1) {</div>
<div class="line">        <span class="keywordflow">switch</span> (c) {</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;a&#39;</span>:</div>
<div class="line">            *server_addr = optarg;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;c&#39;</span>:</div>
<div class="line">            <span class="keywordflow">if</span> (!strcasecmp(optarg, <span class="stringliteral">&quot;stream&quot;</span>)) {</div>
<div class="line">                *send_recv_type = CLIENT_SERVER_SEND_RECV_STREAM;</div>
<div class="line">            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(optarg, <span class="stringliteral">&quot;tag&quot;</span>)) {</div>
<div class="line">                *send_recv_type = CLIENT_SERVER_SEND_RECV_TAG;</div>
<div class="line">            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcasecmp(optarg, <span class="stringliteral">&quot;am&quot;</span>)) {</div>
<div class="line">                *send_recv_type = CLIENT_SERVER_SEND_RECV_AM;</div>
<div class="line">            } <span class="keywordflow">else</span> {</div>
<div class="line">                fprintf(stderr, <span class="stringliteral">&quot;Wrong communication type %s. &quot;</span></div>
<div class="line">                        <span class="stringliteral">&quot;Using %s as default\n&quot;</span>, optarg, COMM_TYPE_DEFAULT);</div>
<div class="line">                *send_recv_type = CLIENT_SERVER_SEND_RECV_DEFAULT;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;l&#39;</span>:</div>
<div class="line">            *listen_addr = optarg;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;p&#39;</span>:</div>
<div class="line">            port = atoi(optarg);</div>
<div class="line">            <span class="keywordflow">if</span> ((port &lt; 0) || (port &gt; UINT16_MAX)) {</div>
<div class="line">                fprintf(stderr, <span class="stringliteral">&quot;Wrong server port number %d\n&quot;</span>, port);</div>
<div class="line">                <span class="keywordflow">return</span> PARSE_CMD_STATUS_ERROR;</div>
<div class="line">            }</div>
<div class="line">            server_port = port;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;6&#39;</span>:</div>
<div class="line">            ai_family = AF_INET6;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;i&#39;</span>:</div>
<div class="line">            num_iterations = atoi(optarg);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;s&#39;</span>:</div>
<div class="line">            test_string_length = atol(optarg);</div>
<div class="line">            <span class="keywordflow">if</span> (test_string_length &lt; 0) {</div>
<div class="line">                fprintf(stderr, <span class="stringliteral">&quot;Wrong string size %ld\n&quot;</span>, test_string_length);</div>
<div class="line">                <span class="keywordflow">return</span> PARSE_CMD_STATUS_ERROR;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;v&#39;</span>:</div>
<div class="line">            iov_cnt = atol(optarg);</div>
<div class="line">            <span class="keywordflow">if</span> (iov_cnt &lt;= 0) {</div>
<div class="line">                fprintf(stderr, <span class="stringliteral">&quot;Wrong iov count %ld\n&quot;</span>, iov_cnt);</div>
<div class="line">                <span class="keywordflow">return</span> PARSE_CMD_STATUS_ERROR;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;m&#39;</span>:</div>
<div class="line">            test_mem_type = parse_mem_type(optarg);</div>
<div class="line">            <span class="keywordflow">if</span> (test_mem_type == <a id="a50" name="a50"></a><a class="code hl_enumvalue" href="group___u_c_s___r_e_s_o_u_r_c_e.html#gga5cfcc524f5dc586101a3e7caff8d982da6105aba9983dc25cbf7cbf4d03f655d7">UCS_MEMORY_TYPE_LAST</a>) {</div>
<div class="line">                <span class="keywordflow">return</span> PARSE_CMD_STATUS_ERROR;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;h&#39;</span>:</div>
<div class="line">            usage();</div>
<div class="line">            <span class="keywordflow">return</span> PARSE_CMD_STATUS_PRINT_HELP;</div>
<div class="line">        <span class="keywordflow">default</span>:</div>
<div class="line">            usage();</div>
<div class="line">            <span class="keywordflow">return</span> PARSE_CMD_STATUS_ERROR;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> PARSE_CMD_STATUS_OK;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">char</span>* sockaddr_get_ip_str(<span class="keyword">const</span> <span class="keyword">struct</span> sockaddr_storage *sock_addr,</div>
<div class="line">                                 <span class="keywordtype">char</span> *ip_str, <span class="keywordtype">size_t</span> max_size)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>sockaddr_in  addr_in;</div>
<div class="line">    <span class="keyword">struct </span>sockaddr_in6 addr_in6;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">switch</span> (sock_addr-&gt;ss_family) {</div>
<div class="line">    <span class="keywordflow">case</span> AF_INET:</div>
<div class="line">        memcpy(&amp;addr_in, sock_addr, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> sockaddr_in));</div>
<div class="line">        inet_ntop(AF_INET, &amp;addr_in.sin_addr, ip_str, max_size);</div>
<div class="line">        <span class="keywordflow">return</span> ip_str;</div>
<div class="line">    <span class="keywordflow">case</span> AF_INET6:</div>
<div class="line">        memcpy(&amp;addr_in6, sock_addr, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> sockaddr_in6));</div>
<div class="line">        inet_ntop(AF_INET6, &amp;addr_in6.sin6_addr, ip_str, max_size);</div>
<div class="line">        <span class="keywordflow">return</span> ip_str;</div>
<div class="line">    <span class="keywordflow">default</span>:</div>
<div class="line">        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Invalid address family&quot;</span>;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">char</span>* sockaddr_get_port_str(<span class="keyword">const</span> <span class="keyword">struct</span> sockaddr_storage *sock_addr,</div>
<div class="line">                                   <span class="keywordtype">char</span> *port_str, <span class="keywordtype">size_t</span> max_size)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>sockaddr_in  addr_in;</div>
<div class="line">    <span class="keyword">struct </span>sockaddr_in6 addr_in6;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">switch</span> (sock_addr-&gt;ss_family) {</div>
<div class="line">    <span class="keywordflow">case</span> AF_INET:</div>
<div class="line">        memcpy(&amp;addr_in, sock_addr, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> sockaddr_in));</div>
<div class="line">        snprintf(port_str, max_size, <span class="stringliteral">&quot;%d&quot;</span>, ntohs(addr_in.sin_port));</div>
<div class="line">        <span class="keywordflow">return</span> port_str;</div>
<div class="line">    <span class="keywordflow">case</span> AF_INET6:</div>
<div class="line">        memcpy(&amp;addr_in6, sock_addr, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> sockaddr_in6));</div>
<div class="line">        snprintf(port_str, max_size, <span class="stringliteral">&quot;%d&quot;</span>, ntohs(addr_in6.sin6_port));</div>
<div class="line">        <span class="keywordflow">return</span> port_str;</div>
<div class="line">    <span class="keywordflow">default</span>:</div>
<div class="line">        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Invalid address family&quot;</span>;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> client_server_communication(<a class="code hl_typedef" href="group___u_c_p___w_o_r_k_e_r.html#ga5fd52efba31d20fc52055bb19270729f">ucp_worker_h</a> worker, <a class="code hl_typedef" href="group___u_c_p___e_n_d_p_o_i_n_t.html#ga9bea4e4174ea25f44285d8e7a9fb7adf">ucp_ep_h</a> ep,</div>
<div class="line">                                       send_recv_type_t send_recv_type,</div>
<div class="line">                                       <span class="keywordtype">int</span> is_server, <span class="keywordtype">int</span> current_iter)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> ret;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">switch</span> (send_recv_type) {</div>
<div class="line">    <span class="keywordflow">case</span> CLIENT_SERVER_SEND_RECV_STREAM:</div>
<div class="line">        <span class="comment">/* Client-Server communication via Stream API */</span></div>
<div class="line">        ret = send_recv_stream(worker, ep, is_server, current_iter);</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> CLIENT_SERVER_SEND_RECV_TAG:</div>
<div class="line">        <span class="comment">/* Client-Server communication via Tag-Matching API */</span></div>
<div class="line">        ret = send_recv_tag(worker, ep, is_server, current_iter);</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> CLIENT_SERVER_SEND_RECV_AM:</div>
<div class="line">        <span class="comment">/* Client-Server communication via AM API. */</span></div>
<div class="line">        ret = send_recv_am(worker, ep, is_server, current_iter);</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">default</span>:</div>
<div class="line">        fprintf(stderr, <span class="stringliteral">&quot;unknown send-recv type %d\n&quot;</span>, send_recv_type);</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> ret;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> init_worker(<a class="code hl_typedef" href="group___u_c_p___c_o_n_t_e_x_t.html#ga0e40ddc46f0bbe868a13f6ab1b674f76">ucp_context_h</a> ucp_context, <a class="code hl_typedef" href="group___u_c_p___w_o_r_k_e_r.html#ga5fd52efba31d20fc52055bb19270729f">ucp_worker_h</a> *ucp_worker)</div>
<div class="line">{</div>
<div class="line">    <a id="_a51" name="_a51"></a><a class="code hl_struct" href="group___u_c_p___w_o_r_k_e_r.html#structucp__worker__params">ucp_worker_params_t</a> worker_params;</div>
<div class="line">    <a class="code hl_enumeration" href="group___u_c_s___r_e_s_o_u_r_c_e.html#ga88ca72d7294772e7d2edb70a2df15558">ucs_status_t</a> status;</div>
<div class="line">    <span class="keywordtype">int</span> ret = 0;</div>
<div class="line"> </div>
<div class="line">    memset(&amp;worker_params, 0, <span class="keyword">sizeof</span>(worker_params));</div>
<div class="line"> </div>
<div class="line">    worker_params.<a id="a52" name="a52"></a><a class="code hl_variable" href="group___u_c_p___w_o_r_k_e_r.html#a33863ec848e47f79d2e14181fe2aa921">field_mask</a>  = <a id="a53" name="a53"></a><a class="code hl_enumvalue" href="group___u_c_p___w_o_r_k_e_r.html#ggadbfc8fd5eaa65351d1617f2f158b80f6a651598f7340d42cafb0876d918c83ec8">UCP_WORKER_PARAM_FIELD_THREAD_MODE</a>;</div>
<div class="line">    worker_params.<a id="a54" name="a54"></a><a class="code hl_variable" href="group___u_c_p___w_o_r_k_e_r.html#a790642ea681ddd2b0935ad62f70e4ef1">thread_mode</a> = <a id="a55" name="a55"></a><a class="code hl_enumvalue" href="group___u_c_s___r_e_s_o_u_r_c_e.html#gga40e9f363c389e702ad9920f5d52525ceabc2f71e39a3527f7abe6a1c47f0a5a25">UCS_THREAD_MODE_SINGLE</a>;</div>
<div class="line"> </div>
<div class="line">    status = <a id="a56" name="a56"></a><a class="code hl_function" href="group___u_c_p___w_o_r_k_e_r.html#ga0aec01ed3dad646ca6cd3814b13054b1">ucp_worker_create</a>(ucp_context, &amp;worker_params, ucp_worker);</div>
<div class="line">    <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="group___u_c_s___r_e_s_o_u_r_c_e.html#gga88ca72d7294772e7d2edb70a2df15558a1a7fbae02ac33fb94f519c7c773f419a">UCS_OK</a>) {</div>
<div class="line">        fprintf(stderr, <span class="stringliteral">&quot;failed to ucp_worker_create (%s)\n&quot;</span>, ucs_status_string(status));</div>
<div class="line">        ret = -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> ret;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> server_conn_handle_cb(<a class="code hl_typedef" href="group___u_c_p___e_n_d_p_o_i_n_t.html#ga200570bfa7d3a8b50b2a074aaa22d2ed">ucp_conn_request_h</a> conn_request, <span class="keywordtype">void</span> *arg)</div>
<div class="line">{</div>
<div class="line">    ucx_server_ctx_t *context = arg;</div>
<div class="line">    <a id="_a57" name="_a57"></a><a class="code hl_struct" href="group___u_c_p___w_o_r_k_e_r.html#structucp__conn__request__attr">ucp_conn_request_attr_t</a> attr;</div>
<div class="line">    <span class="keywordtype">char</span> ip_str[IP_STRING_LEN];</div>
<div class="line">    <span class="keywordtype">char</span> port_str[PORT_STRING_LEN];</div>
<div class="line">    <a class="code hl_enumeration" href="group___u_c_s___r_e_s_o_u_r_c_e.html#ga88ca72d7294772e7d2edb70a2df15558">ucs_status_t</a> status;</div>
<div class="line"> </div>
<div class="line">    attr.<a id="a58" name="a58"></a><a class="code hl_variable" href="group___u_c_p___w_o_r_k_e_r.html#ad6a97d8268992c34631ac773a6c2148b">field_mask</a> = <a id="a59" name="a59"></a><a class="code hl_enumvalue" href="group___u_c_p___w_o_r_k_e_r.html#gga31119b42b06b185822699697bd7a1018a98d3bca4557571d8ccb56ae2d29b2ad6">UCP_CONN_REQUEST_ATTR_FIELD_CLIENT_ADDR</a>;</div>
<div class="line">    status = <a id="a60" name="a60"></a><a class="code hl_function" href="group___u_c_p___w_o_r_k_e_r.html#ga440c99f2462ba8201280687a76fd8569">ucp_conn_request_query</a>(conn_request, &amp;attr);</div>
<div class="line">    <span class="keywordflow">if</span> (status == <a class="code hl_enumvalue" href="group___u_c_s___r_e_s_o_u_r_c_e.html#gga88ca72d7294772e7d2edb70a2df15558a1a7fbae02ac33fb94f519c7c773f419a">UCS_OK</a>) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Server received a connection request from client at address %s:%s\n&quot;</span>,</div>
<div class="line">               sockaddr_get_ip_str(&amp;attr.<a id="a61" name="a61"></a><a class="code hl_variable" href="group___u_c_p___w_o_r_k_e_r.html#a8ca1dc70d395335dc9f8fe20e9de1a0d">client_address</a>, ip_str, <span class="keyword">sizeof</span>(ip_str)),</div>
<div class="line">               sockaddr_get_port_str(&amp;attr.<a class="code hl_variable" href="group___u_c_p___w_o_r_k_e_r.html#a8ca1dc70d395335dc9f8fe20e9de1a0d">client_address</a>, port_str, <span class="keyword">sizeof</span>(port_str)));</div>
<div class="line">    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (status != <a id="a62" name="a62"></a><a class="code hl_enumvalue" href="group___u_c_s___r_e_s_o_u_r_c_e.html#gga88ca72d7294772e7d2edb70a2df15558a252c38290855ceaf849c04b7fa52dc23">UCS_ERR_UNSUPPORTED</a>) {</div>
<div class="line">        fprintf(stderr, <span class="stringliteral">&quot;failed to query the connection request (%s)\n&quot;</span>,</div>
<div class="line">                ucs_status_string(status));</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (context-&gt;conn_request == NULL) {</div>
<div class="line">        context-&gt;conn_request = conn_request;</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="comment">/* The server is already handling a connection request from a client,</span></div>
<div class="line"><span class="comment">         * reject this new one */</span></div>
<div class="line">        printf(<span class="stringliteral">&quot;Rejecting a connection request. &quot;</span></div>
<div class="line">               <span class="stringliteral">&quot;Only one client at a time is supported.\n&quot;</span>);</div>
<div class="line">        status = <a id="a63" name="a63"></a><a class="code hl_function" href="group___u_c_p___w_o_r_k_e_r.html#ga1f1620fdbae11ea076875fd6ac644241">ucp_listener_reject</a>(context-&gt;listener, conn_request);</div>
<div class="line">        <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="group___u_c_s___r_e_s_o_u_r_c_e.html#gga88ca72d7294772e7d2edb70a2df15558a1a7fbae02ac33fb94f519c7c773f419a">UCS_OK</a>) {</div>
<div class="line">            fprintf(stderr, <span class="stringliteral">&quot;server failed to reject a connection request: (%s)\n&quot;</span>,</div>
<div class="line">                    ucs_status_string(status));</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code hl_enumeration" href="group___u_c_s___r_e_s_o_u_r_c_e.html#ga88ca72d7294772e7d2edb70a2df15558">ucs_status_t</a> server_create_ep(<a class="code hl_typedef" href="group___u_c_p___w_o_r_k_e_r.html#ga5fd52efba31d20fc52055bb19270729f">ucp_worker_h</a> data_worker,</div>
<div class="line">                                     <a class="code hl_typedef" href="group___u_c_p___e_n_d_p_o_i_n_t.html#ga200570bfa7d3a8b50b2a074aaa22d2ed">ucp_conn_request_h</a> conn_request,</div>
<div class="line">                                     <a class="code hl_typedef" href="group___u_c_p___e_n_d_p_o_i_n_t.html#ga9bea4e4174ea25f44285d8e7a9fb7adf">ucp_ep_h</a> *server_ep)</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_struct" href="group___u_c_p___e_n_d_p_o_i_n_t.html#structucp__ep__params">ucp_ep_params_t</a> ep_params;</div>
<div class="line">    <a class="code hl_enumeration" href="group___u_c_s___r_e_s_o_u_r_c_e.html#ga88ca72d7294772e7d2edb70a2df15558">ucs_status_t</a>    status;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Server creates an ep to the client on the data worker.</span></div>
<div class="line"><span class="comment">     * This is not the worker the listener was created on.</span></div>
<div class="line"><span class="comment">     * The client side should have initiated the connection, leading</span></div>
<div class="line"><span class="comment">     * to this ep&#39;s creation */</span></div>
<div class="line">    ep_params.<a class="code hl_variable" href="group___u_c_p___e_n_d_p_o_i_n_t.html#ab7b3f3ba1d402a621b8ea708dcf2387b">field_mask</a>      = <a class="code hl_enumvalue" href="group___u_c_p___e_n_d_p_o_i_n_t.html#ggabb6ce0b3189f415dadc7f99727751d60adc6619f5e4bf3f68190f918ee064036d">UCP_EP_PARAM_FIELD_ERR_HANDLER</a> |</div>
<div class="line">                                <a id="a64" name="a64"></a><a class="code hl_enumvalue" href="group___u_c_p___e_n_d_p_o_i_n_t.html#ggabb6ce0b3189f415dadc7f99727751d60a88c2cf7c57a1cddc6b2cf9bcdc99e64e">UCP_EP_PARAM_FIELD_CONN_REQUEST</a>;</div>
<div class="line">    ep_params.<a id="a65" name="a65"></a><a class="code hl_variable" href="group___u_c_p___e_n_d_p_o_i_n_t.html#a9fbba62cd4a470f2bc7c6f7e55fe3db1">conn_request</a>    = conn_request;</div>
<div class="line">    ep_params.<a class="code hl_variable" href="group___u_c_p___e_n_d_p_o_i_n_t.html#aaf329de9e2b45311099cee8c9df43a20">err_handler</a>.<a class="code hl_variable" href="group___u_c_p___c_o_m_m.html#a0bf3f446a1821a62dd3a300584792e33">cb</a>  = err_cb;</div>
<div class="line">    ep_params.<a class="code hl_variable" href="group___u_c_p___e_n_d_p_o_i_n_t.html#aaf329de9e2b45311099cee8c9df43a20">err_handler</a>.<a class="code hl_variable" href="group___u_c_p___c_o_m_m.html#a7e49e1843e1adab5561e5fc2b2e1afb1">arg</a> = NULL;</div>
<div class="line"> </div>
<div class="line">    status = <a class="code hl_function" href="group___u_c_p___e_n_d_p_o_i_n_t.html#ga6cc5ffb2ba1b0ccd510848de0a779f7b">ucp_ep_create</a>(data_worker, &amp;ep_params, server_ep);</div>
<div class="line">    <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="group___u_c_s___r_e_s_o_u_r_c_e.html#gga88ca72d7294772e7d2edb70a2df15558a1a7fbae02ac33fb94f519c7c773f419a">UCS_OK</a>) {</div>
<div class="line">        fprintf(stderr, <span class="stringliteral">&quot;failed to create an endpoint on the server: (%s)\n&quot;</span>,</div>
<div class="line">                ucs_status_string(status));</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> status;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code hl_enumeration" href="group___u_c_s___r_e_s_o_u_r_c_e.html#ga88ca72d7294772e7d2edb70a2df15558">ucs_status_t</a></div>
<div class="line">start_server(<a class="code hl_typedef" href="group___u_c_p___w_o_r_k_e_r.html#ga5fd52efba31d20fc52055bb19270729f">ucp_worker_h</a> ucp_worker, ucx_server_ctx_t *context,</div>
<div class="line">             <a class="code hl_typedef" href="group___u_c_p___w_o_r_k_e_r.html#gac0496f7102c43cf339cc760b9e5724a2">ucp_listener_h</a> *listener_p, <span class="keyword">const</span> <span class="keywordtype">char</span> *address_str)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>sockaddr_storage listen_addr;</div>
<div class="line">    <a id="_a66" name="_a66"></a><a class="code hl_struct" href="group___u_c_p___w_o_r_k_e_r.html#structucp__listener__params">ucp_listener_params_t</a> params;</div>
<div class="line">    <a id="_a67" name="_a67"></a><a class="code hl_struct" href="group___u_c_p___w_o_r_k_e_r.html#structucp__listener__attr">ucp_listener_attr_t</a> attr;</div>
<div class="line">    <a class="code hl_enumeration" href="group___u_c_s___r_e_s_o_u_r_c_e.html#ga88ca72d7294772e7d2edb70a2df15558">ucs_status_t</a> status;</div>
<div class="line">    <span class="keywordtype">char</span> ip_str[IP_STRING_LEN];</div>
<div class="line">    <span class="keywordtype">char</span> port_str[PORT_STRING_LEN];</div>
<div class="line"> </div>
<div class="line">    set_sock_addr(address_str, &amp;listen_addr);</div>
<div class="line"> </div>
<div class="line">    params.field_mask         = <a id="a68" name="a68"></a><a class="code hl_enumvalue" href="group___u_c_p___w_o_r_k_e_r.html#gga36d95269fcce844261494cbd4f5e26fca0eed5ab19654fabc0afceb5b439c6f05">UCP_LISTENER_PARAM_FIELD_SOCK_ADDR</a> |</div>
<div class="line">                                <a id="a69" name="a69"></a><a class="code hl_enumvalue" href="group___u_c_p___w_o_r_k_e_r.html#gga36d95269fcce844261494cbd4f5e26fca6f28cd3c96e0ada4fafc63d6f67e48bc">UCP_LISTENER_PARAM_FIELD_CONN_HANDLER</a>;</div>
<div class="line">    params.sockaddr.addr      = (<span class="keyword">const</span> <span class="keyword">struct </span>sockaddr*)&amp;listen_addr;</div>
<div class="line">    params.sockaddr.addrlen   = <span class="keyword">sizeof</span>(listen_addr);</div>
<div class="line">    params.conn_handler.cb    = server_conn_handle_cb;</div>
<div class="line">    params.conn_handler.arg   = context;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Create a listener on the server side to listen on the given address.*/</span></div>
<div class="line">    status = <a id="a70" name="a70"></a><a class="code hl_function" href="group___u_c_p___w_o_r_k_e_r.html#ga7a8943f89a7b49c1f1abc562fb5178ad">ucp_listener_create</a>(ucp_worker, &amp;params, listener_p);</div>
<div class="line">    <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="group___u_c_s___r_e_s_o_u_r_c_e.html#gga88ca72d7294772e7d2edb70a2df15558a1a7fbae02ac33fb94f519c7c773f419a">UCS_OK</a>) {</div>
<div class="line">        fprintf(stderr, <span class="stringliteral">&quot;failed to listen (%s)\n&quot;</span>, ucs_status_string(status));</div>
<div class="line">        <span class="keywordflow">goto</span> out;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Query the created listener to get the port it is listening on. */</span></div>
<div class="line">    attr.<a id="a71" name="a71"></a><a class="code hl_variable" href="group___u_c_p___w_o_r_k_e_r.html#aaaa6353f56fd585d7c83c363380703f4">field_mask</a> = <a id="a72" name="a72"></a><a class="code hl_enumvalue" href="group___u_c_p___w_o_r_k_e_r.html#gga54059507b51041359aedffbe75635720a5a58fea3f5a4daa6b055306a6798ec26">UCP_LISTENER_ATTR_FIELD_SOCKADDR</a>;</div>
<div class="line">    status = <a id="a73" name="a73"></a><a class="code hl_function" href="group___u_c_p___w_o_r_k_e_r.html#ga785a8cc6adab6c01bb2354a38bcd9928">ucp_listener_query</a>(*listener_p, &amp;attr);</div>
<div class="line">    <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="group___u_c_s___r_e_s_o_u_r_c_e.html#gga88ca72d7294772e7d2edb70a2df15558a1a7fbae02ac33fb94f519c7c773f419a">UCS_OK</a>) {</div>
<div class="line">        fprintf(stderr, <span class="stringliteral">&quot;failed to query the listener (%s)\n&quot;</span>,</div>
<div class="line">                ucs_status_string(status));</div>
<div class="line">        <a id="a74" name="a74"></a><a class="code hl_function" href="group___u_c_p___w_o_r_k_e_r.html#gae45c609cd659bdd0e205d30627b7af21">ucp_listener_destroy</a>(*listener_p);</div>
<div class="line">        <span class="keywordflow">goto</span> out;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    fprintf(stderr, <span class="stringliteral">&quot;server is listening on IP %s port %s\n&quot;</span>,</div>
<div class="line">            sockaddr_get_ip_str(&amp;attr.<a id="a75" name="a75"></a><a class="code hl_variable" href="group___u_c_p___w_o_r_k_e_r.html#affcc213cd4305412937974eefb95bc32">sockaddr</a>, ip_str, IP_STRING_LEN),</div>
<div class="line">            sockaddr_get_port_str(&amp;attr.<a class="code hl_variable" href="group___u_c_p___w_o_r_k_e_r.html#affcc213cd4305412937974eefb95bc32">sockaddr</a>, port_str, PORT_STRING_LEN));</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;Waiting for connection...\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">out:</div>
<div class="line">    <span class="keywordflow">return</span> status;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code hl_enumeration" href="group___u_c_s___r_e_s_o_u_r_c_e.html#ga88ca72d7294772e7d2edb70a2df15558">ucs_status_t</a> register_am_recv_callback(<a class="code hl_typedef" href="group___u_c_p___w_o_r_k_e_r.html#ga5fd52efba31d20fc52055bb19270729f">ucp_worker_h</a> worker)</div>
<div class="line">{</div>
<div class="line">    <a id="_a76" name="_a76"></a><a class="code hl_struct" href="group___u_c_p___w_o_r_k_e_r.html#structucp__am__handler__param">ucp_am_handler_param_t</a> param;</div>
<div class="line"> </div>
<div class="line">    param.<a id="a77" name="a77"></a><a class="code hl_variable" href="group___u_c_p___w_o_r_k_e_r.html#a8f31d53e411769961286865cb9332f6f">field_mask</a> = <a id="a78" name="a78"></a><a class="code hl_enumvalue" href="group___u_c_p___c_o_m_m.html#ggaeae021145933ffa033b8327bb7bf2533a4b9788659b793630cee9bc027add35ad">UCP_AM_HANDLER_PARAM_FIELD_ID</a> |</div>
<div class="line">                       <a id="a79" name="a79"></a><a class="code hl_enumvalue" href="group___u_c_p___c_o_m_m.html#ggaeae021145933ffa033b8327bb7bf2533a6c2a2d3fe9c7118d3513833ad452cb69">UCP_AM_HANDLER_PARAM_FIELD_CB</a> |</div>
<div class="line">                       <a id="a80" name="a80"></a><a class="code hl_enumvalue" href="group___u_c_p___c_o_m_m.html#ggaeae021145933ffa033b8327bb7bf2533a23622f1a9046a0b59d1519732e2b73ff">UCP_AM_HANDLER_PARAM_FIELD_ARG</a>;</div>
<div class="line">    param.<a id="a81" name="a81"></a><a class="code hl_variable" href="group___u_c_p___w_o_r_k_e_r.html#ad0c6157f387e18cb4d92a37a638274af">id</a>         = TEST_AM_ID;</div>
<div class="line">    param.<a id="a82" name="a82"></a><a class="code hl_variable" href="group___u_c_p___w_o_r_k_e_r.html#acd54cdefba3f3f5e145dfe2360485659">cb</a>         = ucp_am_data_cb;</div>
<div class="line">    param.<a id="a83" name="a83"></a><a class="code hl_variable" href="group___u_c_p___w_o_r_k_e_r.html#ae1670a4926d8528fb1ec1cd3f461f13a">arg</a>        = worker; <span class="comment">/* not used in our callback */</span></div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> <a id="a84" name="a84"></a><a class="code hl_function" href="group___u_c_p___w_o_r_k_e_r.html#ga410d5e90c2abc6997924cbf7dee4a1f3">ucp_worker_set_am_recv_handler</a>(worker, &amp;param);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> client_server_do_work(<a class="code hl_typedef" href="group___u_c_p___w_o_r_k_e_r.html#ga5fd52efba31d20fc52055bb19270729f">ucp_worker_h</a> ucp_worker, <a class="code hl_typedef" href="group___u_c_p___e_n_d_p_o_i_n_t.html#ga9bea4e4174ea25f44285d8e7a9fb7adf">ucp_ep_h</a> ep,</div>
<div class="line">                                 send_recv_type_t send_recv_type, <span class="keywordtype">int</span> is_server)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> i, ret = 0;</div>
<div class="line">    <a class="code hl_enumeration" href="group___u_c_s___r_e_s_o_u_r_c_e.html#ga88ca72d7294772e7d2edb70a2df15558">ucs_status_t</a> status;</div>
<div class="line"> </div>
<div class="line">    connection_closed = 0;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; num_iterations; i++) {</div>
<div class="line">        ret = client_server_communication(ucp_worker, ep, send_recv_type,</div>
<div class="line">                                          is_server, i);</div>
<div class="line">        <span class="keywordflow">if</span> (ret != 0) {</div>
<div class="line">            fprintf(stderr, <span class="stringliteral">&quot;%s failed on iteration #%d\n&quot;</span>,</div>
<div class="line">                    (is_server ? <span class="stringliteral">&quot;server&quot;</span>: <span class="stringliteral">&quot;client&quot;</span>), i + 1);</div>
<div class="line">            <span class="keywordflow">goto</span> out;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Register recv callback on the client side to receive FIN message */</span></div>
<div class="line">    <span class="keywordflow">if</span> (!is_server &amp;&amp; (send_recv_type == CLIENT_SERVER_SEND_RECV_AM)) {</div>
<div class="line">        status = register_am_recv_callback(ucp_worker);</div>
<div class="line">        <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="group___u_c_s___r_e_s_o_u_r_c_e.html#gga88ca72d7294772e7d2edb70a2df15558a1a7fbae02ac33fb94f519c7c773f419a">UCS_OK</a>) {</div>
<div class="line">            ret = -1;</div>
<div class="line">            <span class="keywordflow">goto</span> out;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* FIN message in reverse direction to acknowledge delivery */</span></div>
<div class="line">    ret = client_server_communication(ucp_worker, ep, send_recv_type,</div>
<div class="line">                                      !is_server, i + 1);</div>
<div class="line">    <span class="keywordflow">if</span> (ret != 0) {</div>
<div class="line">        fprintf(stderr, <span class="stringliteral">&quot;%s failed on FIN message\n&quot;</span>,</div>
<div class="line">                (is_server ? <span class="stringliteral">&quot;server&quot;</span>: <span class="stringliteral">&quot;client&quot;</span>));</div>
<div class="line">        <span class="keywordflow">goto</span> out;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;%s FIN message\n&quot;</span>, is_server ? <span class="stringliteral">&quot;sent&quot;</span> : <span class="stringliteral">&quot;received&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Server waits until the client closed the connection after receiving FIN */</span></div>
<div class="line">    <span class="keywordflow">while</span> (is_server &amp;&amp; !connection_closed) {</div>
<div class="line">        <a class="code hl_function" href="group___u_c_p___w_o_r_k_e_r.html#ga340784a8528d4932916651460dc481c0">ucp_worker_progress</a>(ucp_worker);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">out:</div>
<div class="line">    <span class="keywordflow">return</span> ret;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> run_server(<a class="code hl_typedef" href="group___u_c_p___c_o_n_t_e_x_t.html#ga0e40ddc46f0bbe868a13f6ab1b674f76">ucp_context_h</a> ucp_context, <a class="code hl_typedef" href="group___u_c_p___w_o_r_k_e_r.html#ga5fd52efba31d20fc52055bb19270729f">ucp_worker_h</a> ucp_worker,</div>
<div class="line">                      <span class="keywordtype">char</span> *listen_addr, send_recv_type_t send_recv_type)</div>
<div class="line">{</div>
<div class="line">    ucx_server_ctx_t context;</div>
<div class="line">    <a class="code hl_typedef" href="group___u_c_p___w_o_r_k_e_r.html#ga5fd52efba31d20fc52055bb19270729f">ucp_worker_h</a>     ucp_data_worker;</div>
<div class="line">    <a class="code hl_typedef" href="group___u_c_p___e_n_d_p_o_i_n_t.html#ga9bea4e4174ea25f44285d8e7a9fb7adf">ucp_ep_h</a>         server_ep;</div>
<div class="line">    <a class="code hl_enumeration" href="group___u_c_s___r_e_s_o_u_r_c_e.html#ga88ca72d7294772e7d2edb70a2df15558">ucs_status_t</a>     status;</div>
<div class="line">    <span class="keywordtype">int</span>              ret;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Create a data worker (to be used for data exchange between the server</span></div>
<div class="line"><span class="comment">     * and the client after the connection between them was established) */</span></div>
<div class="line">    ret = init_worker(ucp_context, &amp;ucp_data_worker);</div>
<div class="line">    <span class="keywordflow">if</span> (ret != 0) {</div>
<div class="line">        <span class="keywordflow">goto</span> err;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (send_recv_type == CLIENT_SERVER_SEND_RECV_AM) {</div>
<div class="line">        status = register_am_recv_callback(ucp_data_worker);</div>
<div class="line">        <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="group___u_c_s___r_e_s_o_u_r_c_e.html#gga88ca72d7294772e7d2edb70a2df15558a1a7fbae02ac33fb94f519c7c773f419a">UCS_OK</a>) {</div>
<div class="line">            ret = -1;</div>
<div class="line">            <span class="keywordflow">goto</span> err_worker;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Initialize the server&#39;s context. */</span></div>
<div class="line">    context.conn_request = NULL;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Create a listener on the worker created at first. The &#39;connection</span></div>
<div class="line"><span class="comment">     * worker&#39; - used for connection establishment between client and server.</span></div>
<div class="line"><span class="comment">     * This listener will stay open for listening to incoming connection</span></div>
<div class="line"><span class="comment">     * requests from the client */</span></div>
<div class="line">    status = start_server(ucp_worker, &amp;context, &amp;context.listener, listen_addr);</div>
<div class="line">    <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="group___u_c_s___r_e_s_o_u_r_c_e.html#gga88ca72d7294772e7d2edb70a2df15558a1a7fbae02ac33fb94f519c7c773f419a">UCS_OK</a>) {</div>
<div class="line">        ret = -1;</div>
<div class="line">        <span class="keywordflow">goto</span> err_worker;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Server is always up listening */</span></div>
<div class="line">    <span class="keywordflow">while</span> (1) {</div>
<div class="line">        <span class="comment">/* Wait for the server to receive a connection request from the client.</span></div>
<div class="line"><span class="comment">         * If there are multiple clients for which the server&#39;s connection request</span></div>
<div class="line"><span class="comment">         * callback is invoked, i.e. several clients are trying to connect in</span></div>
<div class="line"><span class="comment">         * parallel, the server will handle only the first one and reject the rest */</span></div>
<div class="line">        <span class="keywordflow">while</span> (context.conn_request == NULL) {</div>
<div class="line">            <a class="code hl_function" href="group___u_c_p___w_o_r_k_e_r.html#ga340784a8528d4932916651460dc481c0">ucp_worker_progress</a>(ucp_worker);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/* Server creates an ep to the client on the data worker.</span></div>
<div class="line"><span class="comment">         * This is not the worker the listener was created on.</span></div>
<div class="line"><span class="comment">         * The client side should have initiated the connection, leading</span></div>
<div class="line"><span class="comment">         * to this ep&#39;s creation */</span></div>
<div class="line">        status = server_create_ep(ucp_data_worker, context.conn_request,</div>
<div class="line">                                  &amp;server_ep);</div>
<div class="line">        <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="group___u_c_s___r_e_s_o_u_r_c_e.html#gga88ca72d7294772e7d2edb70a2df15558a1a7fbae02ac33fb94f519c7c773f419a">UCS_OK</a>) {</div>
<div class="line">            ret = -1;</div>
<div class="line">            <span class="keywordflow">goto</span> err_listener;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/* The server waits for all the iterations to complete before moving on</span></div>
<div class="line"><span class="comment">         * to the next client */</span></div>
<div class="line">        ret = client_server_do_work(ucp_data_worker, server_ep, send_recv_type,</div>
<div class="line">                                    1);</div>
<div class="line">        <span class="keywordflow">if</span> (ret != 0) {</div>
<div class="line">            <span class="keywordflow">goto</span> err_ep;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/* Close the endpoint to the client */</span></div>
<div class="line">        ep_close(ucp_data_worker, server_ep, <a id="a85" name="a85"></a><a class="code hl_enumvalue" href="group___u_c_p___e_n_d_p_o_i_n_t.html#ggacef728a5ee7a11f50794544aa259fe71a5b827bc555062bcba501faa3f40e789b">UCP_EP_CLOSE_FLAG_FORCE</a>);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/* Reinitialize the server&#39;s context to be used for the next client */</span></div>
<div class="line">        context.conn_request = NULL;</div>
<div class="line"> </div>
<div class="line">        printf(<span class="stringliteral">&quot;Waiting for connection...\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">err_ep:</div>
<div class="line">    ep_close(ucp_data_worker, server_ep, <a class="code hl_enumvalue" href="group___u_c_p___e_n_d_p_o_i_n_t.html#ggacef728a5ee7a11f50794544aa259fe71a5b827bc555062bcba501faa3f40e789b">UCP_EP_CLOSE_FLAG_FORCE</a>);</div>
<div class="line">err_listener:</div>
<div class="line">    <a class="code hl_function" href="group___u_c_p___w_o_r_k_e_r.html#gae45c609cd659bdd0e205d30627b7af21">ucp_listener_destroy</a>(context.listener);</div>
<div class="line">err_worker:</div>
<div class="line">    <a id="a86" name="a86"></a><a class="code hl_function" href="group___u_c_p___w_o_r_k_e_r.html#ga6b6c5bf97d16e7fc4b7c815875e92676">ucp_worker_destroy</a>(ucp_data_worker);</div>
<div class="line">err:</div>
<div class="line">    <span class="keywordflow">return</span> ret;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> run_client(<a class="code hl_typedef" href="group___u_c_p___w_o_r_k_e_r.html#ga5fd52efba31d20fc52055bb19270729f">ucp_worker_h</a> ucp_worker, <span class="keywordtype">char</span> *server_addr,</div>
<div class="line">                      send_recv_type_t send_recv_type)</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_typedef" href="group___u_c_p___e_n_d_p_o_i_n_t.html#ga9bea4e4174ea25f44285d8e7a9fb7adf">ucp_ep_h</a>     client_ep;</div>
<div class="line">    <a class="code hl_enumeration" href="group___u_c_s___r_e_s_o_u_r_c_e.html#ga88ca72d7294772e7d2edb70a2df15558">ucs_status_t</a> status;</div>
<div class="line">    <span class="keywordtype">int</span>          ret;</div>
<div class="line"> </div>
<div class="line">    status = start_client(ucp_worker, server_addr, &amp;client_ep);</div>
<div class="line">    <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="group___u_c_s___r_e_s_o_u_r_c_e.html#gga88ca72d7294772e7d2edb70a2df15558a1a7fbae02ac33fb94f519c7c773f419a">UCS_OK</a>) {</div>
<div class="line">        fprintf(stderr, <span class="stringliteral">&quot;failed to start client (%s)\n&quot;</span>, ucs_status_string(status));</div>
<div class="line">        ret = -1;</div>
<div class="line">        <span class="keywordflow">goto</span> out;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    ret = client_server_do_work(ucp_worker, client_ep, send_recv_type, 0);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Close the endpoint to the server */</span></div>
<div class="line">    ep_close(ucp_worker, client_ep, <a class="code hl_enumvalue" href="group___u_c_p___e_n_d_p_o_i_n_t.html#ggacef728a5ee7a11f50794544aa259fe71a5b827bc555062bcba501faa3f40e789b">UCP_EP_CLOSE_FLAG_FORCE</a>);</div>
<div class="line"> </div>
<div class="line">out:</div>
<div class="line">    <span class="keywordflow">return</span> ret;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> init_context(<a class="code hl_typedef" href="group___u_c_p___c_o_n_t_e_x_t.html#ga0e40ddc46f0bbe868a13f6ab1b674f76">ucp_context_h</a> *ucp_context, <a class="code hl_typedef" href="group___u_c_p___w_o_r_k_e_r.html#ga5fd52efba31d20fc52055bb19270729f">ucp_worker_h</a> *ucp_worker,</div>
<div class="line">                        send_recv_type_t send_recv_type)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">/* UCP objects */</span></div>
<div class="line">    <a id="_a87" name="_a87"></a><a class="code hl_struct" href="group___u_c_p___c_o_n_f_i_g.html#structucp__params">ucp_params_t</a> <a class="code hl_struct" href="group___u_c_p___c_o_n_f_i_g.html#structucp__params">ucp_params</a>;</div>
<div class="line">    <a class="code hl_enumeration" href="group___u_c_s___r_e_s_o_u_r_c_e.html#ga88ca72d7294772e7d2edb70a2df15558">ucs_status_t</a> status;</div>
<div class="line">    <span class="keywordtype">int</span> ret = 0;</div>
<div class="line"> </div>
<div class="line">    memset(&amp;<a class="code hl_struct" href="group___u_c_p___c_o_n_f_i_g.html#structucp__params">ucp_params</a>, 0, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="group___u_c_p___c_o_n_f_i_g.html#structucp__params">ucp_params</a>));</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* UCP initialization */</span></div>
<div class="line">    <a class="code hl_struct" href="group___u_c_p___c_o_n_f_i_g.html#structucp__params">ucp_params</a>.<a id="a88" name="a88"></a><a class="code hl_variable" href="group___u_c_p___c_o_n_f_i_g.html#a62d432cd22de13ccc9bb12edeb9c566b">field_mask</a> = <a id="a89" name="a89"></a><a class="code hl_enumvalue" href="group___u_c_p___c_o_n_t_e_x_t.html#ggab43f613a2365147415abf66f571cfa71a454f1e90a324095192d87d97b8a4321f">UCP_PARAM_FIELD_FEATURES</a> | <a id="a90" name="a90"></a><a class="code hl_enumvalue" href="group___u_c_p___c_o_n_t_e_x_t.html#ggab43f613a2365147415abf66f571cfa71a9bf23645413cc4f5e753cf99b4379eb6">UCP_PARAM_FIELD_NAME</a>;</div>
<div class="line">    <a class="code hl_struct" href="group___u_c_p___c_o_n_f_i_g.html#structucp__params">ucp_params</a>.<a id="a91" name="a91"></a><a class="code hl_variable" href="group___u_c_p___c_o_n_f_i_g.html#ac1aa15f430f0f273ff4f6055f9cfdea2">name</a>       = <span class="stringliteral">&quot;client_server&quot;</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (send_recv_type == CLIENT_SERVER_SEND_RECV_STREAM) {</div>
<div class="line">        <a class="code hl_struct" href="group___u_c_p___c_o_n_f_i_g.html#structucp__params">ucp_params</a>.<a id="a92" name="a92"></a><a class="code hl_variable" href="group___u_c_p___c_o_n_f_i_g.html#afe7ed2a6c6ceb48e18a04f524d844e67">features</a> = <a id="a93" name="a93"></a><a class="code hl_enumvalue" href="group___u_c_p___c_o_n_t_e_x_t.html#ggaca5990bc015e7e9ac3e3be4e3611c5bea0c3896ead0887f9c650b221831e16b5c">UCP_FEATURE_STREAM</a>;</div>
<div class="line">    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (send_recv_type == CLIENT_SERVER_SEND_RECV_TAG) {</div>
<div class="line">        <a class="code hl_struct" href="group___u_c_p___c_o_n_f_i_g.html#structucp__params">ucp_params</a>.<a class="code hl_variable" href="group___u_c_p___c_o_n_f_i_g.html#afe7ed2a6c6ceb48e18a04f524d844e67">features</a> = <a id="a94" name="a94"></a><a class="code hl_enumvalue" href="group___u_c_p___c_o_n_t_e_x_t.html#ggaca5990bc015e7e9ac3e3be4e3611c5bea244187ad85296b3784d302db00f66b9e">UCP_FEATURE_TAG</a>;</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        <a class="code hl_struct" href="group___u_c_p___c_o_n_f_i_g.html#structucp__params">ucp_params</a>.<a class="code hl_variable" href="group___u_c_p___c_o_n_f_i_g.html#afe7ed2a6c6ceb48e18a04f524d844e67">features</a> = <a id="a95" name="a95"></a><a class="code hl_enumvalue" href="group___u_c_p___c_o_n_t_e_x_t.html#ggaca5990bc015e7e9ac3e3be4e3611c5bea685931b9f438fa9a2faaf9eccf47b097">UCP_FEATURE_AM</a>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    status = <a id="a96" name="a96"></a><a class="code hl_function" href="group___u_c_p___c_o_n_t_e_x_t.html#ga3ad3662ebafac88ec666be4caeb76cb2">ucp_init</a>(&amp;<a class="code hl_struct" href="group___u_c_p___c_o_n_f_i_g.html#structucp__params">ucp_params</a>, NULL, ucp_context);</div>
<div class="line">    <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="group___u_c_s___r_e_s_o_u_r_c_e.html#gga88ca72d7294772e7d2edb70a2df15558a1a7fbae02ac33fb94f519c7c773f419a">UCS_OK</a>) {</div>
<div class="line">        fprintf(stderr, <span class="stringliteral">&quot;failed to ucp_init (%s)\n&quot;</span>, ucs_status_string(status));</div>
<div class="line">        ret = -1;</div>
<div class="line">        <span class="keywordflow">goto</span> err;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    ret = init_worker(*ucp_context, ucp_worker);</div>
<div class="line">    <span class="keywordflow">if</span> (ret != 0) {</div>
<div class="line">        <span class="keywordflow">goto</span> err_cleanup;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> ret;</div>
<div class="line"> </div>
<div class="line">err_cleanup:</div>
<div class="line">    <a id="a97" name="a97"></a><a class="code hl_function" href="group___u_c_p___c_o_n_t_e_x_t.html#gaaa7a90069ad6e0f3e227402db265299e">ucp_cleanup</a>(*ucp_context);</div>
<div class="line">err:</div>
<div class="line">    <span class="keywordflow">return</span> ret;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)</div>
<div class="line">{</div>
<div class="line">    send_recv_type_t send_recv_type = CLIENT_SERVER_SEND_RECV_DEFAULT;</div>
<div class="line">    <span class="keywordtype">char</span> *server_addr = NULL;</div>
<div class="line">    <span class="keywordtype">char</span> *listen_addr = NULL;</div>
<div class="line">    parse_cmd_status_t parse_cmd_status;</div>
<div class="line">    <span class="keywordtype">int</span> ret;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* UCP objects */</span></div>
<div class="line">    <a class="code hl_typedef" href="group___u_c_p___c_o_n_t_e_x_t.html#ga0e40ddc46f0bbe868a13f6ab1b674f76">ucp_context_h</a> ucp_context;</div>
<div class="line">    <a class="code hl_typedef" href="group___u_c_p___w_o_r_k_e_r.html#ga5fd52efba31d20fc52055bb19270729f">ucp_worker_h</a>  ucp_worker;</div>
<div class="line"> </div>
<div class="line">    parse_cmd_status = parse_cmd(argc, argv, &amp;server_addr, &amp;listen_addr,</div>
<div class="line">                                 &amp;send_recv_type);</div>
<div class="line">    <span class="keywordflow">if</span> (parse_cmd_status == PARSE_CMD_STATUS_PRINT_HELP) {</div>
<div class="line">        ret = 0;</div>
<div class="line">        <span class="keywordflow">goto</span> err;</div>
<div class="line">    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (parse_cmd_status == PARSE_CMD_STATUS_ERROR) {</div>
<div class="line">        ret = -1;</div>
<div class="line">        <span class="keywordflow">goto</span> err;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Initialize the UCX required objects */</span></div>
<div class="line">    ret = init_context(&amp;ucp_context, &amp;ucp_worker, send_recv_type);</div>
<div class="line">    <span class="keywordflow">if</span> (ret != 0) {</div>
<div class="line">        <span class="keywordflow">goto</span> err;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Client-Server initialization */</span></div>
<div class="line">    <span class="keywordflow">if</span> (server_addr == NULL) {</div>
<div class="line">        <span class="comment">/* Server side */</span></div>
<div class="line">        ret = run_server(ucp_context, ucp_worker, listen_addr, send_recv_type);</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="comment">/* Client side */</span></div>
<div class="line">        ret = run_client(ucp_worker, server_addr, send_recv_type);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="group___u_c_p___w_o_r_k_e_r.html#ga6b6c5bf97d16e7fc4b7c815875e92676">ucp_worker_destroy</a>(ucp_worker);</div>
<div class="line">    <a class="code hl_function" href="group___u_c_p___c_o_n_t_e_x_t.html#gaaa7a90069ad6e0f3e227402db265299e">ucp_cleanup</a>(ucp_context);</div>
<div class="line">err:</div>
<div class="line">    <span class="keywordflow">return</span> ret;</div>
<div class="line">}</div>
<div class="ttc" id="agroup___u_c_p___c_o_m_m_html_a0bf3f446a1821a62dd3a300584792e33"><div class="ttname"><a href="group___u_c_p___c_o_m_m.html#a0bf3f446a1821a62dd3a300584792e33">ucp_err_handler::cb</a></div><div class="ttdeci">ucp_err_handler_cb_t cb</div><div class="ttdef"><b>Definition</b> ucp_def.h:367</div></div>
<div class="ttc" id="agroup___u_c_p___c_o_m_m_html_a7e49e1843e1adab5561e5fc2b2e1afb1"><div class="ttname"><a href="group___u_c_p___c_o_m_m.html#a7e49e1843e1adab5561e5fc2b2e1afb1">ucp_err_handler::arg</a></div><div class="ttdeci">void * arg</div><div class="ttdef"><b>Definition</b> ucp_def.h:369</div></div>
<div class="ttc" id="agroup___u_c_p___c_o_m_m_html_ga0e8e46f5953d464382b21edef3ec9994"><div class="ttname"><a href="group___u_c_p___c_o_m_m.html#ga0e8e46f5953d464382b21edef3ec9994">ucp_request_free</a></div><div class="ttdeci">void ucp_request_free(void *request)</div><div class="ttdoc">Release a communications request.</div></div>
<div class="ttc" id="agroup___u_c_p___c_o_m_m_html_ga30494ce33e63823c81c2c5b3656d25c3"><div class="ttname"><a href="group___u_c_p___c_o_m_m.html#ga30494ce33e63823c81c2c5b3656d25c3">ucp_stream_recv_nbx</a></div><div class="ttdeci">ucs_status_ptr_t ucp_stream_recv_nbx(ucp_ep_h ep, void *buffer, size_t count, size_t *length, const ucp_request_param_t *param)</div><div class="ttdoc">Non-blocking stream receive operation of structured data into a user-supplied buffer.</div></div>
<div class="ttc" id="agroup___u_c_p___c_o_m_m_html_ga4b8ab214f35828ee4608d73442e8c372"><div class="ttname"><a href="group___u_c_p___c_o_m_m.html#ga4b8ab214f35828ee4608d73442e8c372">ucp_am_send_nbx</a></div><div class="ttdeci">ucs_status_ptr_t ucp_am_send_nbx(ucp_ep_h ep, unsigned id, const void *header, size_t header_length, const void *buffer, size_t count, const ucp_request_param_t *param)</div><div class="ttdoc">Send Active Message.</div></div>
<div class="ttc" id="agroup___u_c_p___c_o_m_m_html_ga8323878b60f426c630d4ff8996ede3cc"><div class="ttname"><a href="group___u_c_p___c_o_m_m.html#ga8323878b60f426c630d4ff8996ede3cc">ucp_tag_send_nbx</a></div><div class="ttdeci">ucs_status_ptr_t ucp_tag_send_nbx(ucp_ep_h ep, const void *buffer, size_t count, ucp_tag_t tag, const ucp_request_param_t *param)</div><div class="ttdoc">Non-blocking tagged-send operation.</div></div>
<div class="ttc" id="agroup___u_c_p___c_o_m_m_html_gaa842f8ca8ad1363ed857ab938285a16f"><div class="ttname"><a href="group___u_c_p___c_o_m_m.html#gaa842f8ca8ad1363ed857ab938285a16f">ucp_tag_recv_nbx</a></div><div class="ttdeci">ucs_status_ptr_t ucp_tag_recv_nbx(ucp_worker_h worker, void *buffer, size_t count, ucp_tag_t tag, ucp_tag_t tag_mask, const ucp_request_param_t *param)</div><div class="ttdoc">Non-blocking tagged-receive operation.</div></div>
<div class="ttc" id="agroup___u_c_p___c_o_m_m_html_gae082ad7af428645ebe6e469d3d06a757"><div class="ttname"><a href="group___u_c_p___c_o_m_m.html#gae082ad7af428645ebe6e469d3d06a757">ucp_request_check_status</a></div><div class="ttdeci">ucs_status_t ucp_request_check_status(void *request)</div><div class="ttdoc">Check the status of non-blocking request.</div></div>
<div class="ttc" id="agroup___u_c_p___c_o_m_m_html_gae9fe6efe6b05e4e78f58bee68c68b252"><div class="ttname"><a href="group___u_c_p___c_o_m_m.html#gae9fe6efe6b05e4e78f58bee68c68b252">ucp_stream_send_nbx</a></div><div class="ttdeci">ucs_status_ptr_t ucp_stream_send_nbx(ucp_ep_h ep, const void *buffer, size_t count, const ucp_request_param_t *param)</div><div class="ttdoc">Non-blocking stream send operation.</div></div>
<div class="ttc" id="agroup___u_c_p___c_o_m_m_html_gaee41a74074b37f96dad5b29c9af17faf"><div class="ttname"><a href="group___u_c_p___c_o_m_m.html#gaee41a74074b37f96dad5b29c9af17faf">ucp_send_nbx_callback_t</a></div><div class="ttdeci">void(* ucp_send_nbx_callback_t)(void *request, ucs_status_t status, void *user_data)</div><div class="ttdoc">Completion callback for non-blocking sends.</div><div class="ttdef"><b>Definition</b> ucp_def.h:340</div></div>
<div class="ttc" id="agroup___u_c_p___c_o_m_m_html_gaefaaa5e0a154efe496ae5bb7f2bf71f3"><div class="ttname"><a href="group___u_c_p___c_o_m_m.html#gaefaaa5e0a154efe496ae5bb7f2bf71f3">ucp_am_recv_data_nbx</a></div><div class="ttdeci">ucs_status_ptr_t ucp_am_recv_data_nbx(ucp_worker_h worker, void *data_desc, void *buffer, size_t count, const ucp_request_param_t *param)</div><div class="ttdoc">Receive Active Message as defined by provided data descriptor.</div></div>
<div class="ttc" id="agroup___u_c_p___c_o_m_m_html_gga487a3c588a11e42b9f313f0c9e2ead3baf9a8d75af5b826d7563863591a98714f"><div class="ttname"><a href="group___u_c_p___c_o_m_m.html#gga487a3c588a11e42b9f313f0c9e2ead3baf9a8d75af5b826d7563863591a98714f">UCP_AM_RECV_ATTR_FLAG_RNDV</a></div><div class="ttdeci">@ UCP_AM_RECV_ATTR_FLAG_RNDV</div><div class="ttdef"><b>Definition</b> ucp.h:794</div></div>
<div class="ttc" id="agroup___u_c_p___c_o_m_m_html_gga67fae646dd1668efba6efe49a35a6610a2f2586686e21b2700fd7cd4a8efb5a1b"><div class="ttname"><a href="group___u_c_p___c_o_m_m.html#gga67fae646dd1668efba6efe49a35a6610a2f2586686e21b2700fd7cd4a8efb5a1b">UCP_OP_ATTR_FIELD_FLAGS</a></div><div class="ttdeci">@ UCP_OP_ATTR_FIELD_FLAGS</div><div class="ttdef"><b>Definition</b> ucp.h:717</div></div>
<div class="ttc" id="agroup___u_c_p___c_o_m_m_html_gga67fae646dd1668efba6efe49a35a6610a354ef92dd9352dfccc859cd2ca3558d8"><div class="ttname"><a href="group___u_c_p___c_o_m_m.html#gga67fae646dd1668efba6efe49a35a6610a354ef92dd9352dfccc859cd2ca3558d8">UCP_OP_ATTR_FIELD_DATATYPE</a></div><div class="ttdeci">@ UCP_OP_ATTR_FIELD_DATATYPE</div><div class="ttdef"><b>Definition</b> ucp.h:716</div></div>
<div class="ttc" id="agroup___u_c_p___c_o_m_m_html_gga67fae646dd1668efba6efe49a35a6610a73e3a6e8b96b37ec1b0764e67dd13602"><div class="ttname"><a href="group___u_c_p___c_o_m_m.html#gga67fae646dd1668efba6efe49a35a6610a73e3a6e8b96b37ec1b0764e67dd13602">UCP_OP_ATTR_FIELD_CALLBACK</a></div><div class="ttdeci">@ UCP_OP_ATTR_FIELD_CALLBACK</div><div class="ttdef"><b>Definition</b> ucp.h:714</div></div>
<div class="ttc" id="agroup___u_c_p___c_o_m_m_html_gga67fae646dd1668efba6efe49a35a6610a8805045d48573e9aa5751b439be114d0"><div class="ttname"><a href="group___u_c_p___c_o_m_m.html#gga67fae646dd1668efba6efe49a35a6610a8805045d48573e9aa5751b439be114d0">UCP_OP_ATTR_FLAG_NO_IMM_CMPL</a></div><div class="ttdeci">@ UCP_OP_ATTR_FLAG_NO_IMM_CMPL</div><div class="ttdef"><b>Definition</b> ucp.h:723</div></div>
<div class="ttc" id="agroup___u_c_p___c_o_m_m_html_gga67fae646dd1668efba6efe49a35a6610af6f932f15331fe7c9efacbfe2578e5ec"><div class="ttname"><a href="group___u_c_p___c_o_m_m.html#gga67fae646dd1668efba6efe49a35a6610af6f932f15331fe7c9efacbfe2578e5ec">UCP_OP_ATTR_FIELD_USER_DATA</a></div><div class="ttdeci">@ UCP_OP_ATTR_FIELD_USER_DATA</div><div class="ttdef"><b>Definition</b> ucp.h:715</div></div>
<div class="ttc" id="agroup___u_c_p___c_o_m_m_html_ggab471a9c7ab815e3d3ad7af80253f5cc2a5fb4ed4f8009d969ea9a8b3f3542424c"><div class="ttname"><a href="group___u_c_p___c_o_m_m.html#ggab471a9c7ab815e3d3ad7af80253f5cc2a5fb4ed4f8009d969ea9a8b3f3542424c">UCP_STREAM_RECV_FLAG_WAITALL</a></div><div class="ttdeci">@ UCP_STREAM_RECV_FLAG_WAITALL</div><div class="ttdef"><b>Definition</b> ucp.h:695</div></div>
<div class="ttc" id="agroup___u_c_p___c_o_m_m_html_ggaeae021145933ffa033b8327bb7bf2533a23622f1a9046a0b59d1519732e2b73ff"><div class="ttname"><a href="group___u_c_p___c_o_m_m.html#ggaeae021145933ffa033b8327bb7bf2533a23622f1a9046a0b59d1519732e2b73ff">UCP_AM_HANDLER_PARAM_FIELD_ARG</a></div><div class="ttdeci">@ UCP_AM_HANDLER_PARAM_FIELD_ARG</div><div class="ttdef"><b>Definition</b> ucp.h:821</div></div>
<div class="ttc" id="agroup___u_c_p___c_o_m_m_html_ggaeae021145933ffa033b8327bb7bf2533a4b9788659b793630cee9bc027add35ad"><div class="ttname"><a href="group___u_c_p___c_o_m_m.html#ggaeae021145933ffa033b8327bb7bf2533a4b9788659b793630cee9bc027add35ad">UCP_AM_HANDLER_PARAM_FIELD_ID</a></div><div class="ttdeci">@ UCP_AM_HANDLER_PARAM_FIELD_ID</div><div class="ttdef"><b>Definition</b> ucp.h:809</div></div>
<div class="ttc" id="agroup___u_c_p___c_o_m_m_html_ggaeae021145933ffa033b8327bb7bf2533a6c2a2d3fe9c7118d3513833ad452cb69"><div class="ttname"><a href="group___u_c_p___c_o_m_m.html#ggaeae021145933ffa033b8327bb7bf2533a6c2a2d3fe9c7118d3513833ad452cb69">UCP_AM_HANDLER_PARAM_FIELD_CB</a></div><div class="ttdeci">@ UCP_AM_HANDLER_PARAM_FIELD_CB</div><div class="ttdef"><b>Definition</b> ucp.h:817</div></div>
<div class="ttc" id="agroup___u_c_p___c_o_n_f_i_g_html_a62d432cd22de13ccc9bb12edeb9c566b"><div class="ttname"><a href="group___u_c_p___c_o_n_f_i_g.html#a62d432cd22de13ccc9bb12edeb9c566b">ucp_params::field_mask</a></div><div class="ttdeci">uint64_t field_mask</div><div class="ttdef"><b>Definition</b> ucp.h:1047</div></div>
<div class="ttc" id="agroup___u_c_p___c_o_n_f_i_g_html_ac1aa15f430f0f273ff4f6055f9cfdea2"><div class="ttname"><a href="group___u_c_p___c_o_n_f_i_g.html#ac1aa15f430f0f273ff4f6055f9cfdea2">ucp_params::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition</b> ucp.h:1142</div></div>
<div class="ttc" id="agroup___u_c_p___c_o_n_f_i_g_html_afe7ed2a6c6ceb48e18a04f524d844e67"><div class="ttname"><a href="group___u_c_p___c_o_n_f_i_g.html#afe7ed2a6c6ceb48e18a04f524d844e67">ucp_params::features</a></div><div class="ttdeci">uint64_t features</div><div class="ttdef"><b>Definition</b> ucp.h:1055</div></div>
<div class="ttc" id="agroup___u_c_p___c_o_n_f_i_g_html_structucp__params"><div class="ttname"><a href="group___u_c_p___c_o_n_f_i_g.html#structucp__params">ucp_params</a></div><div class="ttdoc">Tuning parameters for UCP library.</div><div class="ttdef"><b>Definition</b> ucp.h:1041</div></div>
<div class="ttc" id="agroup___u_c_p___c_o_n_t_e_x_t_html_a1859c77f14dee64f623bd9f9111200c7"><div class="ttname"><a href="group___u_c_p___c_o_n_t_e_x_t.html#a1859c77f14dee64f623bd9f9111200c7">ucp_request_param_t::cb</a></div><div class="ttdeci">union ucp_request_param_t::@2 cb</div></div>
<div class="ttc" id="agroup___u_c_p___c_o_n_t_e_x_t_html_a3988d603154f90eb5405785cac62b65f"><div class="ttname"><a href="group___u_c_p___c_o_n_t_e_x_t.html#a3988d603154f90eb5405785cac62b65f">ucp_request_param_t::datatype</a></div><div class="ttdeci">ucp_datatype_t datatype</div><div class="ttdef"><b>Definition</b> ucp.h:1782</div></div>
<div class="ttc" id="agroup___u_c_p___c_o_n_t_e_x_t_html_a55a8ff2559470c5def6077a86ee9d898"><div class="ttname"><a href="group___u_c_p___c_o_n_t_e_x_t.html#a55a8ff2559470c5def6077a86ee9d898">ucp_request_param_t::flags</a></div><div class="ttdeci">uint32_t flags</div><div class="ttdef"><b>Definition</b> ucp.h:1756</div></div>
<div class="ttc" id="agroup___u_c_p___c_o_n_t_e_x_t_html_a97e9444548efb351db6a07130fb69c28"><div class="ttname"><a href="group___u_c_p___c_o_n_t_e_x_t.html#a97e9444548efb351db6a07130fb69c28">ucp_request_param_t::op_attr_mask</a></div><div class="ttdeci">uint32_t op_attr_mask</div><div class="ttdef"><b>Definition</b> ucp.h:1753</div></div>
<div class="ttc" id="agroup___u_c_p___c_o_n_t_e_x_t_html_aa9092d65a2e4e55368ca4f88775c190b"><div class="ttname"><a href="group___u_c_p___c_o_n_t_e_x_t.html#aa9092d65a2e4e55368ca4f88775c190b">ucp_request_param_t::user_data</a></div><div class="ttdeci">void * user_data</div><div class="ttdef"><b>Definition</b> ucp.h:1787</div></div>
<div class="ttc" id="agroup___u_c_p___c_o_n_t_e_x_t_html_ga0e40ddc46f0bbe868a13f6ab1b674f76"><div class="ttname"><a href="group___u_c_p___c_o_n_t_e_x_t.html#ga0e40ddc46f0bbe868a13f6ab1b674f76">ucp_context_h</a></div><div class="ttdeci">struct ucp_context * ucp_context_h</div><div class="ttdoc">UCP Application Context.</div><div class="ttdef"><b>Definition</b> ucp_def.h:60</div></div>
<div class="ttc" id="agroup___u_c_p___c_o_n_t_e_x_t_html_ga3ad3662ebafac88ec666be4caeb76cb2"><div class="ttname"><a href="group___u_c_p___c_o_n_t_e_x_t.html#ga3ad3662ebafac88ec666be4caeb76cb2">ucp_init</a></div><div class="ttdeci">static ucs_status_t ucp_init(const ucp_params_t *params, const ucp_config_t *config, ucp_context_h *context_p)</div><div class="ttdoc">UCP context initialization.</div><div class="ttdef"><b>Definition</b> ucp.h:2091</div></div>
<div class="ttc" id="agroup___u_c_p___c_o_n_t_e_x_t_html_gaaa7a90069ad6e0f3e227402db265299e"><div class="ttname"><a href="group___u_c_p___c_o_n_t_e_x_t.html#gaaa7a90069ad6e0f3e227402db265299e">ucp_cleanup</a></div><div class="ttdeci">void ucp_cleanup(ucp_context_h context_p)</div><div class="ttdoc">Release UCP application context.</div></div>
<div class="ttc" id="agroup___u_c_p___c_o_n_t_e_x_t_html_ggab43f613a2365147415abf66f571cfa71a454f1e90a324095192d87d97b8a4321f"><div class="ttname"><a href="group___u_c_p___c_o_n_t_e_x_t.html#ggab43f613a2365147415abf66f571cfa71a454f1e90a324095192d87d97b8a4321f">UCP_PARAM_FIELD_FEATURES</a></div><div class="ttdeci">@ UCP_PARAM_FIELD_FEATURES</div><div class="ttdef"><b>Definition</b> ucp.h:120</div></div>
<div class="ttc" id="agroup___u_c_p___c_o_n_t_e_x_t_html_ggab43f613a2365147415abf66f571cfa71a9bf23645413cc4f5e753cf99b4379eb6"><div class="ttname"><a href="group___u_c_p___c_o_n_t_e_x_t.html#ggab43f613a2365147415abf66f571cfa71a9bf23645413cc4f5e753cf99b4379eb6">UCP_PARAM_FIELD_NAME</a></div><div class="ttdeci">@ UCP_PARAM_FIELD_NAME</div><div class="ttdef"><b>Definition</b> ucp.h:128</div></div>
<div class="ttc" id="agroup___u_c_p___c_o_n_t_e_x_t_html_ggaca5990bc015e7e9ac3e3be4e3611c5bea0c3896ead0887f9c650b221831e16b5c"><div class="ttname"><a href="group___u_c_p___c_o_n_t_e_x_t.html#ggaca5990bc015e7e9ac3e3be4e3611c5bea0c3896ead0887f9c650b221831e16b5c">UCP_FEATURE_STREAM</a></div><div class="ttdeci">@ UCP_FEATURE_STREAM</div><div class="ttdef"><b>Definition</b> ucp.h:157</div></div>
<div class="ttc" id="agroup___u_c_p___c_o_n_t_e_x_t_html_ggaca5990bc015e7e9ac3e3be4e3611c5bea244187ad85296b3784d302db00f66b9e"><div class="ttname"><a href="group___u_c_p___c_o_n_t_e_x_t.html#ggaca5990bc015e7e9ac3e3be4e3611c5bea244187ad85296b3784d302db00f66b9e">UCP_FEATURE_TAG</a></div><div class="ttdeci">@ UCP_FEATURE_TAG</div><div class="ttdef"><b>Definition</b> ucp.h:142</div></div>
<div class="ttc" id="agroup___u_c_p___c_o_n_t_e_x_t_html_ggaca5990bc015e7e9ac3e3be4e3611c5bea685931b9f438fa9a2faaf9eccf47b097"><div class="ttname"><a href="group___u_c_p___c_o_n_t_e_x_t.html#ggaca5990bc015e7e9ac3e3be4e3611c5bea685931b9f438fa9a2faaf9eccf47b097">UCP_FEATURE_AM</a></div><div class="ttdeci">@ UCP_FEATURE_AM</div><div class="ttdef"><b>Definition</b> ucp.h:160</div></div>
<div class="ttc" id="agroup___u_c_p___c_o_n_t_e_x_t_html_structucp__request__param__t"><div class="ttname"><a href="group___u_c_p___c_o_n_t_e_x_t.html#structucp__request__param__t">ucp_request_param_t</a></div><div class="ttdoc">Operation parameters passed to ucp_tag_send_nbx, ucp_tag_send_sync_nbx, ucp_tag_recv_nbx,...</div><div class="ttdef"><b>Definition</b> ucp.h:1747</div></div>
<div class="ttc" id="agroup___u_c_p___c_o_n_t_e_x_t_html_structucp__tag__recv__info"><div class="ttname"><a href="group___u_c_p___c_o_n_t_e_x_t.html#structucp__tag__recv__info">ucp_tag_recv_info</a></div><div class="ttdoc">UCP receive information descriptor.</div><div class="ttdef"><b>Definition</b> ucp.h:1699</div></div>
<div class="ttc" id="agroup___u_c_p___d_a_t_a_t_y_p_e_html_a6cf4c47c33d61c097226b570a470f10c"><div class="ttname"><a href="group___u_c_p___d_a_t_a_t_y_p_e.html#a6cf4c47c33d61c097226b570a470f10c">ucp_dt_iov::buffer</a></div><div class="ttdeci">void * buffer</div><div class="ttdef"><b>Definition</b> ucp.h:871</div></div>
<div class="ttc" id="agroup___u_c_p___d_a_t_a_t_y_p_e_html_a776d38e0b127efb673685644b6816663"><div class="ttname"><a href="group___u_c_p___d_a_t_a_t_y_p_e.html#a776d38e0b127efb673685644b6816663">ucp_dt_iov::length</a></div><div class="ttdeci">size_t length</div><div class="ttdef"><b>Definition</b> ucp.h:872</div></div>
<div class="ttc" id="agroup___u_c_p___d_a_t_a_t_y_p_e_html_ga9a56fc4636094bab740d77f7df70c2b5"><div class="ttname"><a href="group___u_c_p___d_a_t_a_t_y_p_e.html#ga9a56fc4636094bab740d77f7df70c2b5">ucp_dt_make_contig</a></div><div class="ttdeci">#define ucp_dt_make_contig(_elem_size)</div><div class="ttdoc">Generate an identifier for contiguous data type.</div><div class="ttdef"><b>Definition</b> ucp.h:839</div></div>
<div class="ttc" id="agroup___u_c_p___d_a_t_a_t_y_p_e_html_gga50b3b4e641a197264e963d91be480b6ca3b5515fddd08f075a8b74eca562bcb50"><div class="ttname"><a href="group___u_c_p___d_a_t_a_t_y_p_e.html#gga50b3b4e641a197264e963d91be480b6ca3b5515fddd08f075a8b74eca562bcb50">UCP_DATATYPE_IOV</a></div><div class="ttdeci">@ UCP_DATATYPE_IOV</div><div class="ttdef"><b>Definition</b> ucp.h:506</div></div>
<div class="ttc" id="agroup___u_c_p___d_a_t_a_t_y_p_e_html_structucp__dt__iov"><div class="ttname"><a href="group___u_c_p___d_a_t_a_t_y_p_e.html#structucp__dt__iov">ucp_dt_iov</a></div><div class="ttdoc">Structure for scatter-gather I/O.</div><div class="ttdef"><b>Definition</b> ucp.h:870</div></div>
<div class="ttc" id="agroup___u_c_p___e_n_d_p_o_i_n_t_html_a50ce29893509695caa5b70ab4525a4d6"><div class="ttname"><a href="group___u_c_p___e_n_d_p_o_i_n_t.html#a50ce29893509695caa5b70ab4525a4d6">ucp_ep_params::err_mode</a></div><div class="ttdeci">ucp_err_handling_mode_t err_mode</div><div class="ttdef"><b>Definition</b> ucp_def.h:704</div></div>
<div class="ttc" id="agroup___u_c_p___e_n_d_p_o_i_n_t_html_a9bb65021187347fe311535857e19e6c3"><div class="ttname"><a href="group___u_c_p___e_n_d_p_o_i_n_t.html#a9bb65021187347fe311535857e19e6c3">ucp_ep_params::flags</a></div><div class="ttdeci">unsigned flags</div><div class="ttdef"><b>Definition</b> ucp_def.h:724</div></div>
<div class="ttc" id="agroup___u_c_p___e_n_d_p_o_i_n_t_html_a9fbba62cd4a470f2bc7c6f7e55fe3db1"><div class="ttname"><a href="group___u_c_p___e_n_d_p_o_i_n_t.html#a9fbba62cd4a470f2bc7c6f7e55fe3db1">ucp_ep_params::conn_request</a></div><div class="ttdeci">ucp_conn_request_h conn_request</div><div class="ttdef"><b>Definition</b> ucp_def.h:743</div></div>
<div class="ttc" id="agroup___u_c_p___e_n_d_p_o_i_n_t_html_aa23fd9a6a092266371258bd285c96816"><div class="ttname"><a href="group___u_c_p___e_n_d_p_o_i_n_t.html#aa23fd9a6a092266371258bd285c96816">ucp_ep_params::sockaddr</a></div><div class="ttdeci">ucs_sock_addr_t sockaddr</div><div class="ttdef"><b>Definition</b> ucp_def.h:733</div></div>
<div class="ttc" id="agroup___u_c_p___e_n_d_p_o_i_n_t_html_aaf329de9e2b45311099cee8c9df43a20"><div class="ttname"><a href="group___u_c_p___e_n_d_p_o_i_n_t.html#aaf329de9e2b45311099cee8c9df43a20">ucp_ep_params::err_handler</a></div><div class="ttdeci">ucp_err_handler_t err_handler</div><div class="ttdef"><b>Definition</b> ucp_def.h:709</div></div>
<div class="ttc" id="agroup___u_c_p___e_n_d_p_o_i_n_t_html_ab7b3f3ba1d402a621b8ea708dcf2387b"><div class="ttname"><a href="group___u_c_p___e_n_d_p_o_i_n_t.html#ab7b3f3ba1d402a621b8ea708dcf2387b">ucp_ep_params::field_mask</a></div><div class="ttdeci">uint64_t field_mask</div><div class="ttdef"><b>Definition</b> ucp_def.h:690</div></div>
<div class="ttc" id="agroup___u_c_p___e_n_d_p_o_i_n_t_html_ga200570bfa7d3a8b50b2a074aaa22d2ed"><div class="ttname"><a href="group___u_c_p___e_n_d_p_o_i_n_t.html#ga200570bfa7d3a8b50b2a074aaa22d2ed">ucp_conn_request_h</a></div><div class="ttdeci">struct ucp_conn_request * ucp_conn_request_h</div><div class="ttdoc">UCP connection request.</div><div class="ttdef"><b>Definition</b> ucp_def.h:102</div></div>
<div class="ttc" id="agroup___u_c_p___e_n_d_p_o_i_n_t_html_ga6cc5ffb2ba1b0ccd510848de0a779f7b"><div class="ttname"><a href="group___u_c_p___e_n_d_p_o_i_n_t.html#ga6cc5ffb2ba1b0ccd510848de0a779f7b">ucp_ep_create</a></div><div class="ttdeci">ucs_status_t ucp_ep_create(ucp_worker_h worker, const ucp_ep_params_t *params, ucp_ep_h *ep_p)</div><div class="ttdoc">Create and connect an endpoint.</div></div>
<div class="ttc" id="agroup___u_c_p___e_n_d_p_o_i_n_t_html_ga9bea4e4174ea25f44285d8e7a9fb7adf"><div class="ttname"><a href="group___u_c_p___e_n_d_p_o_i_n_t.html#ga9bea4e4174ea25f44285d8e7a9fb7adf">ucp_ep_h</a></div><div class="ttdeci">struct ucp_ep * ucp_ep_h</div><div class="ttdoc">UCP Endpoint.</div><div class="ttdef"><b>Definition</b> ucp_def.h:92</div></div>
<div class="ttc" id="agroup___u_c_p___e_n_d_p_o_i_n_t_html_gga4a1f422dc1e81495b4aee1da8939459fad42871a591a0a34bccf5c8203a0b32bb"><div class="ttname"><a href="group___u_c_p___e_n_d_p_o_i_n_t.html#gga4a1f422dc1e81495b4aee1da8939459fad42871a591a0a34bccf5c8203a0b32bb">UCP_EP_PARAMS_FLAGS_CLIENT_SERVER</a></div><div class="ttdeci">@ UCP_EP_PARAMS_FLAGS_CLIENT_SERVER</div><div class="ttdef"><b>Definition</b> ucp.h:279</div></div>
<div class="ttc" id="agroup___u_c_p___e_n_d_p_o_i_n_t_html_gga7c69a28724d5ae3e49490e23e64df167aa31630259732e700b6ce0fe612cf0a6f"><div class="ttname"><a href="group___u_c_p___e_n_d_p_o_i_n_t.html#gga7c69a28724d5ae3e49490e23e64df167aa31630259732e700b6ce0fe612cf0a6f">UCP_ERR_HANDLING_MODE_PEER</a></div><div class="ttdeci">@ UCP_ERR_HANDLING_MODE_PEER</div><div class="ttdef"><b>Definition</b> ucp_def.h:130</div></div>
<div class="ttc" id="agroup___u_c_p___e_n_d_p_o_i_n_t_html_ggabb6ce0b3189f415dadc7f99727751d60a1b0e70c12efabe6a2cab3c9bc66db340"><div class="ttname"><a href="group___u_c_p___e_n_d_p_o_i_n_t.html#ggabb6ce0b3189f415dadc7f99727751d60a1b0e70c12efabe6a2cab3c9bc66db340">UCP_EP_PARAM_FIELD_ERR_HANDLING_MODE</a></div><div class="ttdeci">@ UCP_EP_PARAM_FIELD_ERR_HANDLING_MODE</div><div class="ttdef"><b>Definition</b> ucp.h:257</div></div>
<div class="ttc" id="agroup___u_c_p___e_n_d_p_o_i_n_t_html_ggabb6ce0b3189f415dadc7f99727751d60a1b53a3d4eaee470bcb3e23c60f1f7794"><div class="ttname"><a href="group___u_c_p___e_n_d_p_o_i_n_t.html#ggabb6ce0b3189f415dadc7f99727751d60a1b53a3d4eaee470bcb3e23c60f1f7794">UCP_EP_PARAM_FIELD_FLAGS</a></div><div class="ttdeci">@ UCP_EP_PARAM_FIELD_FLAGS</div><div class="ttdef"><b>Definition</b> ucp.h:263</div></div>
<div class="ttc" id="agroup___u_c_p___e_n_d_p_o_i_n_t_html_ggabb6ce0b3189f415dadc7f99727751d60a8149dfb8648b2b248825020c63449a80"><div class="ttname"><a href="group___u_c_p___e_n_d_p_o_i_n_t.html#ggabb6ce0b3189f415dadc7f99727751d60a8149dfb8648b2b248825020c63449a80">UCP_EP_PARAM_FIELD_SOCK_ADDR</a></div><div class="ttdeci">@ UCP_EP_PARAM_FIELD_SOCK_ADDR</div><div class="ttdef"><b>Definition</b> ucp.h:262</div></div>
<div class="ttc" id="agroup___u_c_p___e_n_d_p_o_i_n_t_html_ggabb6ce0b3189f415dadc7f99727751d60a88c2cf7c57a1cddc6b2cf9bcdc99e64e"><div class="ttname"><a href="group___u_c_p___e_n_d_p_o_i_n_t.html#ggabb6ce0b3189f415dadc7f99727751d60a88c2cf7c57a1cddc6b2cf9bcdc99e64e">UCP_EP_PARAM_FIELD_CONN_REQUEST</a></div><div class="ttdeci">@ UCP_EP_PARAM_FIELD_CONN_REQUEST</div><div class="ttdef"><b>Definition</b> ucp.h:265</div></div>
<div class="ttc" id="agroup___u_c_p___e_n_d_p_o_i_n_t_html_ggabb6ce0b3189f415dadc7f99727751d60adc6619f5e4bf3f68190f918ee064036d"><div class="ttname"><a href="group___u_c_p___e_n_d_p_o_i_n_t.html#ggabb6ce0b3189f415dadc7f99727751d60adc6619f5e4bf3f68190f918ee064036d">UCP_EP_PARAM_FIELD_ERR_HANDLER</a></div><div class="ttdeci">@ UCP_EP_PARAM_FIELD_ERR_HANDLER</div><div class="ttdef"><b>Definition</b> ucp.h:259</div></div>
<div class="ttc" id="agroup___u_c_p___e_n_d_p_o_i_n_t_html_ggacef728a5ee7a11f50794544aa259fe71a5b827bc555062bcba501faa3f40e789b"><div class="ttname"><a href="group___u_c_p___e_n_d_p_o_i_n_t.html#ggacef728a5ee7a11f50794544aa259fe71a5b827bc555062bcba501faa3f40e789b">UCP_EP_CLOSE_FLAG_FORCE</a></div><div class="ttdeci">@ UCP_EP_CLOSE_FLAG_FORCE</div><div class="ttdef"><b>Definition</b> ucp.h:314</div></div>
<div class="ttc" id="agroup___u_c_p___e_n_d_p_o_i_n_t_html_structucp__ep__params"><div class="ttname"><a href="group___u_c_p___e_n_d_p_o_i_n_t.html#structucp__ep__params">ucp_ep_params</a></div><div class="ttdoc">Tuning parameters for the UCP endpoint.</div><div class="ttdef"><b>Definition</b> ucp_def.h:683</div></div>
<div class="ttc" id="agroup___u_c_p___w_o_r_k_e_r_html_a33863ec848e47f79d2e14181fe2aa921"><div class="ttname"><a href="group___u_c_p___w_o_r_k_e_r.html#a33863ec848e47f79d2e14181fe2aa921">ucp_worker_params::field_mask</a></div><div class="ttdeci">uint64_t field_mask</div><div class="ttdef"><b>Definition</b> ucp.h:1305</div></div>
<div class="ttc" id="agroup___u_c_p___w_o_r_k_e_r_html_a53a8777a31faf7e65289bcc1d710fb19"><div class="ttname"><a href="group___u_c_p___w_o_r_k_e_r.html#a53a8777a31faf7e65289bcc1d710fb19">ucp_am_recv_param::recv_attr</a></div><div class="ttdeci">uint64_t recv_attr</div><div class="ttdef"><b>Definition</b> ucp.h:1917</div></div>
<div class="ttc" id="agroup___u_c_p___w_o_r_k_e_r_html_a790642ea681ddd2b0935ad62f70e4ef1"><div class="ttname"><a href="group___u_c_p___w_o_r_k_e_r.html#a790642ea681ddd2b0935ad62f70e4ef1">ucp_worker_params::thread_mode</a></div><div class="ttdeci">ucs_thread_mode_t thread_mode</div><div class="ttdef"><b>Definition</b> ucp.h:1319</div></div>
<div class="ttc" id="agroup___u_c_p___w_o_r_k_e_r_html_a8ca1dc70d395335dc9f8fe20e9de1a0d"><div class="ttname"><a href="group___u_c_p___w_o_r_k_e_r.html#a8ca1dc70d395335dc9f8fe20e9de1a0d">ucp_conn_request_attr::client_address</a></div><div class="ttdeci">struct sockaddr_storage client_address</div><div class="ttdef"><b>Definition</b> ucp.h:1513</div></div>
<div class="ttc" id="agroup___u_c_p___w_o_r_k_e_r_html_a8f31d53e411769961286865cb9332f6f"><div class="ttname"><a href="group___u_c_p___w_o_r_k_e_r.html#a8f31d53e411769961286865cb9332f6f">ucp_am_handler_param::field_mask</a></div><div class="ttdeci">uint64_t field_mask</div><div class="ttdef"><b>Definition</b> ucp.h:1880</div></div>
<div class="ttc" id="agroup___u_c_p___w_o_r_k_e_r_html_aaaa6353f56fd585d7c83c363380703f4"><div class="ttname"><a href="group___u_c_p___w_o_r_k_e_r.html#aaaa6353f56fd585d7c83c363380703f4">ucp_listener_attr::field_mask</a></div><div class="ttdeci">uint64_t field_mask</div><div class="ttdef"><b>Definition</b> ucp.h:1483</div></div>
<div class="ttc" id="agroup___u_c_p___w_o_r_k_e_r_html_acd54cdefba3f3f5e145dfe2360485659"><div class="ttname"><a href="group___u_c_p___w_o_r_k_e_r.html#acd54cdefba3f3f5e145dfe2360485659">ucp_am_handler_param::cb</a></div><div class="ttdeci">ucp_am_recv_callback_t cb</div><div class="ttdef"><b>Definition</b> ucp.h:1897</div></div>
<div class="ttc" id="agroup___u_c_p___w_o_r_k_e_r_html_ad0c6157f387e18cb4d92a37a638274af"><div class="ttname"><a href="group___u_c_p___w_o_r_k_e_r.html#ad0c6157f387e18cb4d92a37a638274af">ucp_am_handler_param::id</a></div><div class="ttdeci">unsigned id</div><div class="ttdef"><b>Definition</b> ucp.h:1886</div></div>
<div class="ttc" id="agroup___u_c_p___w_o_r_k_e_r_html_ad6a97d8268992c34631ac773a6c2148b"><div class="ttname"><a href="group___u_c_p___w_o_r_k_e_r.html#ad6a97d8268992c34631ac773a6c2148b">ucp_conn_request_attr::field_mask</a></div><div class="ttdeci">uint64_t field_mask</div><div class="ttdef"><b>Definition</b> ucp.h:1507</div></div>
<div class="ttc" id="agroup___u_c_p___w_o_r_k_e_r_html_ae1670a4926d8528fb1ec1cd3f461f13a"><div class="ttname"><a href="group___u_c_p___w_o_r_k_e_r.html#ae1670a4926d8528fb1ec1cd3f461f13a">ucp_am_handler_param::arg</a></div><div class="ttdeci">void * arg</div><div class="ttdef"><b>Definition</b> ucp.h:1903</div></div>
<div class="ttc" id="agroup___u_c_p___w_o_r_k_e_r_html_affcc213cd4305412937974eefb95bc32"><div class="ttname"><a href="group___u_c_p___w_o_r_k_e_r.html#affcc213cd4305412937974eefb95bc32">ucp_listener_attr::sockaddr</a></div><div class="ttdeci">struct sockaddr_storage sockaddr</div><div class="ttdef"><b>Definition</b> ucp.h:1489</div></div>
<div class="ttc" id="agroup___u_c_p___w_o_r_k_e_r_html_ga0aec01ed3dad646ca6cd3814b13054b1"><div class="ttname"><a href="group___u_c_p___w_o_r_k_e_r.html#ga0aec01ed3dad646ca6cd3814b13054b1">ucp_worker_create</a></div><div class="ttdeci">ucs_status_t ucp_worker_create(ucp_context_h context, const ucp_worker_params_t *params, ucp_worker_h *worker_p)</div><div class="ttdoc">Create a worker object.</div></div>
<div class="ttc" id="agroup___u_c_p___w_o_r_k_e_r_html_ga1f1620fdbae11ea076875fd6ac644241"><div class="ttname"><a href="group___u_c_p___w_o_r_k_e_r.html#ga1f1620fdbae11ea076875fd6ac644241">ucp_listener_reject</a></div><div class="ttdeci">ucs_status_t ucp_listener_reject(ucp_listener_h listener, ucp_conn_request_h conn_request)</div><div class="ttdoc">Reject an incoming connection request.</div></div>
<div class="ttc" id="agroup___u_c_p___w_o_r_k_e_r_html_ga340784a8528d4932916651460dc481c0"><div class="ttname"><a href="group___u_c_p___w_o_r_k_e_r.html#ga340784a8528d4932916651460dc481c0">ucp_worker_progress</a></div><div class="ttdeci">unsigned ucp_worker_progress(ucp_worker_h worker)</div><div class="ttdoc">Progress all communications on a specific worker.</div></div>
<div class="ttc" id="agroup___u_c_p___w_o_r_k_e_r_html_ga410d5e90c2abc6997924cbf7dee4a1f3"><div class="ttname"><a href="group___u_c_p___w_o_r_k_e_r.html#ga410d5e90c2abc6997924cbf7dee4a1f3">ucp_worker_set_am_recv_handler</a></div><div class="ttdeci">ucs_status_t ucp_worker_set_am_recv_handler(ucp_worker_h worker, const ucp_am_handler_param_t *param)</div><div class="ttdoc">Add user defined callback for Active Message.</div></div>
<div class="ttc" id="agroup___u_c_p___w_o_r_k_e_r_html_ga440c99f2462ba8201280687a76fd8569"><div class="ttname"><a href="group___u_c_p___w_o_r_k_e_r.html#ga440c99f2462ba8201280687a76fd8569">ucp_conn_request_query</a></div><div class="ttdeci">ucs_status_t ucp_conn_request_query(ucp_conn_request_h conn_request, ucp_conn_request_attr_t *attr)</div><div class="ttdoc">Get attributes specific to a particular connection request received on the server side.</div></div>
<div class="ttc" id="agroup___u_c_p___w_o_r_k_e_r_html_ga5fd52efba31d20fc52055bb19270729f"><div class="ttname"><a href="group___u_c_p___w_o_r_k_e_r.html#ga5fd52efba31d20fc52055bb19270729f">ucp_worker_h</a></div><div class="ttdeci">struct ucp_worker * ucp_worker_h</div><div class="ttdoc">UCP Worker.</div><div class="ttdef"><b>Definition</b> ucp_def.h:246</div></div>
<div class="ttc" id="agroup___u_c_p___w_o_r_k_e_r_html_ga6b6c5bf97d16e7fc4b7c815875e92676"><div class="ttname"><a href="group___u_c_p___w_o_r_k_e_r.html#ga6b6c5bf97d16e7fc4b7c815875e92676">ucp_worker_destroy</a></div><div class="ttdeci">void ucp_worker_destroy(ucp_worker_h worker)</div><div class="ttdoc">Destroy a worker object.</div></div>
<div class="ttc" id="agroup___u_c_p___w_o_r_k_e_r_html_ga785a8cc6adab6c01bb2354a38bcd9928"><div class="ttname"><a href="group___u_c_p___w_o_r_k_e_r.html#ga785a8cc6adab6c01bb2354a38bcd9928">ucp_listener_query</a></div><div class="ttdeci">ucs_status_t ucp_listener_query(ucp_listener_h listener, ucp_listener_attr_t *attr)</div><div class="ttdoc">Get attributes specific to a particular listener.</div></div>
<div class="ttc" id="agroup___u_c_p___w_o_r_k_e_r_html_ga7a8943f89a7b49c1f1abc562fb5178ad"><div class="ttname"><a href="group___u_c_p___w_o_r_k_e_r.html#ga7a8943f89a7b49c1f1abc562fb5178ad">ucp_listener_create</a></div><div class="ttdeci">ucs_status_t ucp_listener_create(ucp_worker_h worker, const ucp_listener_params_t *params, ucp_listener_h *listener_p)</div><div class="ttdoc">Create a listener to accept connections on. Connection requests on the listener will arrive at a loca...</div></div>
<div class="ttc" id="agroup___u_c_p___w_o_r_k_e_r_html_gac0496f7102c43cf339cc760b9e5724a2"><div class="ttname"><a href="group___u_c_p___w_o_r_k_e_r.html#gac0496f7102c43cf339cc760b9e5724a2">ucp_listener_h</a></div><div class="ttdeci">struct ucp_listener * ucp_listener_h</div><div class="ttdoc">UCP listen handle.</div><div class="ttdef"><b>Definition</b> ucp_def.h:177</div></div>
<div class="ttc" id="agroup___u_c_p___w_o_r_k_e_r_html_gae45c609cd659bdd0e205d30627b7af21"><div class="ttname"><a href="group___u_c_p___w_o_r_k_e_r.html#gae45c609cd659bdd0e205d30627b7af21">ucp_listener_destroy</a></div><div class="ttdeci">void ucp_listener_destroy(ucp_listener_h listener)</div><div class="ttdoc">Stop accepting connections on a local address of the worker object.</div></div>
<div class="ttc" id="agroup___u_c_p___w_o_r_k_e_r_html_gga31119b42b06b185822699697bd7a1018a98d3bca4557571d8ccb56ae2d29b2ad6"><div class="ttname"><a href="group___u_c_p___w_o_r_k_e_r.html#gga31119b42b06b185822699697bd7a1018a98d3bca4557571d8ccb56ae2d29b2ad6">UCP_CONN_REQUEST_ATTR_FIELD_CLIENT_ADDR</a></div><div class="ttdeci">@ UCP_CONN_REQUEST_ATTR_FIELD_CLIENT_ADDR</div><div class="ttdef"><b>Definition</b> ucp.h:492</div></div>
<div class="ttc" id="agroup___u_c_p___w_o_r_k_e_r_html_gga36d95269fcce844261494cbd4f5e26fca0eed5ab19654fabc0afceb5b439c6f05"><div class="ttname"><a href="group___u_c_p___w_o_r_k_e_r.html#gga36d95269fcce844261494cbd4f5e26fca0eed5ab19654fabc0afceb5b439c6f05">UCP_LISTENER_PARAM_FIELD_SOCK_ADDR</a></div><div class="ttdeci">@ UCP_LISTENER_PARAM_FIELD_SOCK_ADDR</div><div class="ttdef"><b>Definition</b> ucp.h:217</div></div>
<div class="ttc" id="agroup___u_c_p___w_o_r_k_e_r_html_gga36d95269fcce844261494cbd4f5e26fca6f28cd3c96e0ada4fafc63d6f67e48bc"><div class="ttname"><a href="group___u_c_p___w_o_r_k_e_r.html#gga36d95269fcce844261494cbd4f5e26fca6f28cd3c96e0ada4fafc63d6f67e48bc">UCP_LISTENER_PARAM_FIELD_CONN_HANDLER</a></div><div class="ttdeci">@ UCP_LISTENER_PARAM_FIELD_CONN_HANDLER</div><div class="ttdef"><b>Definition</b> ucp.h:226</div></div>
<div class="ttc" id="agroup___u_c_p___w_o_r_k_e_r_html_gga54059507b51041359aedffbe75635720a5a58fea3f5a4daa6b055306a6798ec26"><div class="ttname"><a href="group___u_c_p___w_o_r_k_e_r.html#gga54059507b51041359aedffbe75635720a5a58fea3f5a4daa6b055306a6798ec26">UCP_LISTENER_ATTR_FIELD_SOCKADDR</a></div><div class="ttdeci">@ UCP_LISTENER_ATTR_FIELD_SOCKADDR</div><div class="ttdef"><b>Definition</b> ucp.h:480</div></div>
<div class="ttc" id="agroup___u_c_p___w_o_r_k_e_r_html_ggadbfc8fd5eaa65351d1617f2f158b80f6a651598f7340d42cafb0876d918c83ec8"><div class="ttname"><a href="group___u_c_p___w_o_r_k_e_r.html#ggadbfc8fd5eaa65351d1617f2f158b80f6a651598f7340d42cafb0876d918c83ec8">UCP_WORKER_PARAM_FIELD_THREAD_MODE</a></div><div class="ttdeci">@ UCP_WORKER_PARAM_FIELD_THREAD_MODE</div><div class="ttdef"><b>Definition</b> ucp.h:179</div></div>
<div class="ttc" id="agroup___u_c_p___w_o_r_k_e_r_html_structucp__am__handler__param"><div class="ttname"><a href="group___u_c_p___w_o_r_k_e_r.html#structucp__am__handler__param">ucp_am_handler_param</a></div><div class="ttdoc">Active Message handler parameters passed to ucp_worker_set_am_recv_handler routine.</div><div class="ttdef"><b>Definition</b> ucp.h:1874</div></div>
<div class="ttc" id="agroup___u_c_p___w_o_r_k_e_r_html_structucp__am__recv__param"><div class="ttname"><a href="group___u_c_p___w_o_r_k_e_r.html#structucp__am__recv__param">ucp_am_recv_param</a></div><div class="ttdoc">Operation parameters provided in ucp_am_recv_callback_t callback.</div><div class="ttdef"><b>Definition</b> ucp.h:1911</div></div>
<div class="ttc" id="agroup___u_c_p___w_o_r_k_e_r_html_structucp__conn__request__attr"><div class="ttname"><a href="group___u_c_p___w_o_r_k_e_r.html#structucp__conn__request__attr">ucp_conn_request_attr</a></div><div class="ttdoc">UCP listener's connection request attributes.</div><div class="ttdef"><b>Definition</b> ucp.h:1500</div></div>
<div class="ttc" id="agroup___u_c_p___w_o_r_k_e_r_html_structucp__listener__attr"><div class="ttname"><a href="group___u_c_p___w_o_r_k_e_r.html#structucp__listener__attr">ucp_listener_attr</a></div><div class="ttdoc">UCP listener attributes.</div><div class="ttdef"><b>Definition</b> ucp.h:1476</div></div>
<div class="ttc" id="agroup___u_c_p___w_o_r_k_e_r_html_structucp__listener__params"><div class="ttname"><a href="group___u_c_p___w_o_r_k_e_r.html#structucp__listener__params">ucp_listener_params</a></div><div class="ttdoc">Parameters for a UCP listener object.</div><div class="ttdef"><b>Definition</b> ucp.h:1530</div></div>
<div class="ttc" id="agroup___u_c_p___w_o_r_k_e_r_html_structucp__worker__params"><div class="ttname"><a href="group___u_c_p___w_o_r_k_e_r.html#structucp__worker__params">ucp_worker_params</a></div><div class="ttdoc">Tuning parameters for the UCP worker.</div><div class="ttdef"><b>Definition</b> ucp.h:1299</div></div>
<div class="ttc" id="agroup___u_c_s___r_e_s_o_u_r_c_e_html_a6294db86dc9327058b8a31cb4af87edb"><div class="ttname"><a href="group___u_c_s___r_e_s_o_u_r_c_e.html#a6294db86dc9327058b8a31cb4af87edb">ucs_sock_addr::addr</a></div><div class="ttdeci">const struct sockaddr * addr</div><div class="ttdef"><b>Definition</b> types.h:152</div></div>
<div class="ttc" id="agroup___u_c_s___r_e_s_o_u_r_c_e_html_ac86eaa6362c3345d05c75bb4508ff2f1"><div class="ttname"><a href="group___u_c_s___r_e_s_o_u_r_c_e.html#ac86eaa6362c3345d05c75bb4508ff2f1">ucs_sock_addr::addrlen</a></div><div class="ttdeci">socklen_t addrlen</div><div class="ttdef"><b>Definition</b> types.h:153</div></div>
<div class="ttc" id="agroup___u_c_s___r_e_s_o_u_r_c_e_html_ga88ca72d7294772e7d2edb70a2df15558"><div class="ttname"><a href="group___u_c_s___r_e_s_o_u_r_c_e.html#ga88ca72d7294772e7d2edb70a2df15558">ucs_status_t</a></div><div class="ttdeci">ucs_status_t</div><div class="ttdoc">Status codes.</div><div class="ttdef"><b>Definition</b> status.h:45</div></div>
<div class="ttc" id="agroup___u_c_s___r_e_s_o_u_r_c_e_html_gga40e9f363c389e702ad9920f5d52525ceabc2f71e39a3527f7abe6a1c47f0a5a25"><div class="ttname"><a href="group___u_c_s___r_e_s_o_u_r_c_e.html#gga40e9f363c389e702ad9920f5d52525ceabc2f71e39a3527f7abe6a1c47f0a5a25">UCS_THREAD_MODE_SINGLE</a></div><div class="ttdeci">@ UCS_THREAD_MODE_SINGLE</div><div class="ttdef"><b>Definition</b> thread_mode.h:20</div></div>
<div class="ttc" id="agroup___u_c_s___r_e_s_o_u_r_c_e_html_gga5cfcc524f5dc586101a3e7caff8d982da6105aba9983dc25cbf7cbf4d03f655d7"><div class="ttname"><a href="group___u_c_s___r_e_s_o_u_r_c_e.html#gga5cfcc524f5dc586101a3e7caff8d982da6105aba9983dc25cbf7cbf4d03f655d7">UCS_MEMORY_TYPE_LAST</a></div><div class="ttdeci">@ UCS_MEMORY_TYPE_LAST</div><div class="ttdef"><b>Definition</b> memory_type.h:48</div></div>
<div class="ttc" id="agroup___u_c_s___r_e_s_o_u_r_c_e_html_gga88ca72d7294772e7d2edb70a2df15558a1a7fbae02ac33fb94f519c7c773f419a"><div class="ttname"><a href="group___u_c_s___r_e_s_o_u_r_c_e.html#gga88ca72d7294772e7d2edb70a2df15558a1a7fbae02ac33fb94f519c7c773f419a">UCS_OK</a></div><div class="ttdeci">@ UCS_OK</div><div class="ttdef"><b>Definition</b> status.h:47</div></div>
<div class="ttc" id="agroup___u_c_s___r_e_s_o_u_r_c_e_html_gga88ca72d7294772e7d2edb70a2df15558a252c38290855ceaf849c04b7fa52dc23"><div class="ttname"><a href="group___u_c_s___r_e_s_o_u_r_c_e.html#gga88ca72d7294772e7d2edb70a2df15558a252c38290855ceaf849c04b7fa52dc23">UCS_ERR_UNSUPPORTED</a></div><div class="ttdeci">@ UCS_ERR_UNSUPPORTED</div><div class="ttdef"><b>Definition</b> status.h:74</div></div>
<div class="ttc" id="agroup___u_c_s___r_e_s_o_u_r_c_e_html_gga88ca72d7294772e7d2edb70a2df15558a77aa02620851779729e4ad6ceb41f84a"><div class="ttname"><a href="group___u_c_s___r_e_s_o_u_r_c_e.html#gga88ca72d7294772e7d2edb70a2df15558a77aa02620851779729e4ad6ceb41f84a">UCS_INPROGRESS</a></div><div class="ttdeci">@ UCS_INPROGRESS</div><div class="ttdef"><b>Definition</b> status.h:50</div></div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Jun 24 2025 15:51:04 for UCX by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7 </li>
  </ul>
</div>
</body>
</html>
